<!DOCTYPE html>
<!-- saved from url=(0033)https://habrahabr.ru/post/139428/ -->
<html lang="ru" class="no-js fonts-loaded mdl-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta content="width=1024" name="viewport">
<title>Реализация RGB-алгоритма изменения контраста изображения / Хабрахабр</title>

  <meta name="description" content="

Во время работы над программой, предназначенной для обработки видео-потока, возникла необходимость реализовать алгоритм изменения контраста изображения.

Так как программа была предназначена...">

  <meta name="keywords" content="обработка изображений, алгоритмы, openmp, opencv, оптимизация">
  <meta property="fb:app_id" content="444736788986613"> 
<meta property="og:type" content="article"> 
<meta property="og:url" content="https://habrahabr.ru/post/139428/"> 
<meta property="og:title" content="Реализация RGB-алгоритма изменения контраста изображения">
	<meta property="og:image" content="https://habrastorage.org/storage2/672/326/8cf/6723268cfcbed8c2e473f9244fbcdbff.png">
	<link rel="image_src" href="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/6723268cfcbed8c2e473f9244fbcdbff.png">
	
<meta property="og:description" content="Во время работы над программой, предназначенной для обработки видео-потока, возникла необходимость реализовать алгоритм изменения контраста изображения.  Так...">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@habrahabr">
  <meta property="al:android:url" content="habrahabr://post/139428">
<meta property="al:android:app_name" content="Habrahabr">
<meta property="al:android:package" content="ru.habrahabr">
<meta property="al:windows_phone:url" content="habrahabr://post/139428">
<meta property="al:windows_phone:app_name" content="Habrahabr">
<meta property="al:windows_phone:app_id" content="460a6bd6-8955-470f-935e-9ea1726a6060">
  <link rel="canonical" href="https://habrahabr.ru/post/139428/">
  <link rel="alternate" media="only screen and (max-width: 640px)" href="https://m.habrahabr.ru/post/139428/">



<meta name="yandex-verification" content="71593b225aeafc4e">
<meta name="referrer" content="unsafe-url">
<meta name="pocket-site-verification" content="ed24b2b9721edf0a282c5b4a3232c4">


<style type="text/css">
  @font-face{font-family:'Fira Sans';font-style:normal;font-weight:400;src:url(/fonts/0/FiraSans/hg-FiraSans-Regular.eot);src:local("Fira Sans"),local("FiraSans-Regular"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.eot?#iefix) format("embedded-opentype"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.woff2) format("woff2"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.woff) format("woff"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.ttf) format("truetype")}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;src:url(/fonts/0/FiraSans/hg-FiraSans-Medium.eot);src:local("Fira Sans Medium"),local("FiraSans-Medium"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.eot?#iefix) format("embedded-opentype"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.woff2) format("woff2"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.woff) format("woff"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.ttf) format("truetype")}
</style>

  <link href="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/post_common_css.css" rel="stylesheet" media="all">
  <link href="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/all.css" rel="stylesheet" media="all">

<link href="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/global_main.css" rel="stylesheet" media="all">




<meta name="yandex-verification" content="67d46b975fa41645">

<meta content="Хабрахабр" name="apple-mobile-web-app-title">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://habrahabr.ru/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://habrahabr.ru/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://habrahabr.ru/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://habrahabr.ru/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://habrahabr.ru/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://habrahabr.ru/images/favicons/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-16x16.png" sizes="16x16">
<meta name="application-name" content="Хабрахабр">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="mstile-144x144.png">

  <link title="Хабрахабр / Комментарии к публикации «Реализация RGB-алгоритма изменения контраста изображения»" type="application/rss+xml" rel="alternate" href="https://habrahabr.ru/rss/post/139428/">

<script type="text/javascript" src="https://an.yandex.ru/system/context.js" async=""></script><script type="text/javascript" src="https://an.yandex.ru/system/context.js" async=""></script><script type="text/javascript" async="" src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/watch.js.Без названия"></script><script type="text/javascript" async="" defer="" src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/piwik.js.Без названия"></script><script type="text/javascript" src="https://an.yandex.ru/system/context.js" async=""></script><script type="text/javascript" src="https://an.yandex.ru/system/context.js" async=""></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script>
  (function(){'use strict';var f,g=[];function l(a){g.push(a);1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}f=function(){setTimeout(m)};function n(a){this.a=p;this.b=void 0;this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}var p=2;function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d){d.call(b,function(b){c||q(a,b);c=!0},function(b){c||r(a,b);c=!0});return}}catch(e){c||r(a,e);return}a.a=0;a.b=b;v(a)}}
  function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1;a.b=b;v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?"function"==typeof c?e(c.call(void 0,a.b)):e(a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}n.prototype.g=function(a){return this.c(void 0,a)};n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]);v(c)})};
  function w(a){return new n(function(b,c){function d(c){return function(d){h[c]=d;e+=1;e==a.length&&b(h)}}var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(d(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})};window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g);}());

  (function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function q(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
  this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
  function w(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+b+";"}function x(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;x(a)&&null!==a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);x(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var B=null,C=null,D=null;function H(){if(null===C){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}C=""!==a.style.font}return C}function I(a,b){return[a.style,a.weight,H()?a.stretch:"","100px",b].join(" ")}
  A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",y=b||3E3,E=(new Date).getTime();return new Promise(function(a,b){null===D&&(D=!!document.fonts);if(D){var J=new Promise(function(a,b){function e(){(new Date).getTime()-E>=y?b():document.fonts.load(I(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),K=new Promise(function(a,c){setTimeout(c,y)});Promise.race([K,J]).then(function(){a(c)},function(){b(c)})}else m(function(){function r(){var b;if(b=
  -1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==t&&g==t&&h==t||f==u&&g==u&&h==u||f==v&&g==v&&h==v)),b=!b;b&&(null!==d.parentNode&&d.parentNode.removeChild(d),clearTimeout(G),a(c))}function F(){if((new Date).getTime()-E>=y)null!==d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||
  void 0===a)f=e.a.offsetWidth,g=n.a.offsetWidth,h=p.a.offsetWidth,r();G=setTimeout(F,50)}}var e=new q(k),n=new q(k),p=new q(k),f=-1,g=-1,h=-1,t=-1,u=-1,v=-1,d=document.createElement("div"),G=0;d.dir="ltr";w(e,I(c,"sans-serif"));w(n,I(c,"serif"));w(p,I(c,"monospace"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);t=e.a.offsetWidth;u=n.a.offsetWidth;v=p.a.offsetWidth;F();z(e,function(a){f=a;r()});w(e,I(c,'"'+c.family+'",sans-serif'));z(n,function(a){g=a;r()});
  w(n,I(c,'"'+c.family+'",serif'));z(p,function(a){h=a;r()});w(p,I(c,'"'+c.family+'",monospace'))})})};"undefined"!==typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());

  (function( w ){
    if( w.document.documentElement.className.indexOf( "fonts-loaded" ) > -1 ){ return; }

    var html = document.documentElement;
    var FS400 = new w.FontFaceObserver("Fira Sans", { weight: 400 });
    var FS500 = new w.FontFaceObserver("Fira Sans", { weight: 500 });

    Promise.all([ FS400.check, FS500.check ]).then(function() {
      html.classList.add('fonts-loaded');
      sessionStorage.fontsLoaded = true;
      console.log('fonts-loaded');
    }).catch(function () {
      sessionStorage.fontsLoaded = false;
      console.log('fonts-unloaded');
    });

    if (sessionStorage.fontsLoaded) {
      html.classList.add('fonts-loaded');
    }
  }(this));
</script><style type="text/css">:root a[href*="/ad.adriver."],
:root .sidebar_right a[style*="background"][style*="url"],
:root .bmenu_inner,
:root .banner_box,
:root .adv
{display:none !important;}</style>
<script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/jquery-1.8.3.min.js.Без названия"></script>
  
  <script>var N = 5; var ar_duo1 = Math.floor(Math.random()*N+1);</script>
  <script type="text/javascript" src="https://habracdn.net/habr/javascripts/1481883577/libs/adriver.core.2.js"></script>

<script src="https://habracdn.net/habr/javascripts/1481883577/_parts/advertising.js"></script>
<script type="text/javascript">
  if (typeof adriver == 'undefined'){ var adb1 = 'yes';}

    var user_type = 'guest';

  var page_type = "publish_ugc";

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-726094-1',  'auto');
  ga('create', 'UA-726094-24', 'auto', {'name': 'HGM'});

  ga('require', 'displayfeatures');
  ga('set', 'dimension1', user_type); // user type - guest/readonly/habrauser


  ga('set', 'dimension4', adb1);

  ga('set', 'dimension5', page_type);


   (function() {
     var win = window;
     var removeUtms = function(){
       var location = win.location;
       if (location.search.indexOf('utm_') != -1 && history.replaceState) {
         history.replaceState({}, '', window.location.toString().replace(/(\&|\?)utm([_a-z0-9=]+)/g, ""));
       }
     };
     ga('send', 'pageview', { 'hitCallback': removeUtms });
   })();

  ga('HGM.set', 'dimension1', user_type);
  ga('HGM.set', 'dimension2', "habrahabr");
  ga('HGM.send', 'pageview');
</script>

<script>
  var adcm_config ={
    id:1034,
    platformId: 34,
    
    tags: ['hub_image_processing', 'g_graphics_and_animation_software'],
    init: function () {
      window.adcm.call();
    }
  };
</script>
<script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/adcm.js.Без названия" async=""></script>
  <script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/processor.js.Без названия"></script><style type="text/css">/*.lleo_errorSelection *::-moz-selection,
.lleo_errorSelection *::selection,
.lleo_errorSelection *::-webkit-selection {
    background-color: red !important;
    color: #fff !important;;
}*/

#lleo_dialog,
#lleo_dialog * {
    color: #000 !important;
    font: normal 13px Arial, Helvetica !important;
    line-height: 15px !important;
    margin: 0 !important;
	padding: 0 !important;
	background: none !important;
	border: none 0 !important;
	position: static !important;
	vertical-align: baseline !important;
	overflow: visible !important;
	width: auto !important;
	height: auto !important;
    max-width: none !important;
    max-height: none !important;
	float: none !important;
	visibility: visible !important;
	text-align: left !important;
    text-transform: none !important;
	border-collapse: separate !important;
	border-spacing: 2px !important;
    box-sizing: content-box !important;
    box-shadow: none !important;
    opacity: 1 !important;
    text-shadow: none !important;
    letter-spacing: normal !important;
    -webkit-filter: none !important;
    -moz-filter: none !important;
    filter: none !important;
}
#lleo_dialog *:before,
#lleo_dialog *:after {
    content: '';
}

#lleo_dialog iframe {
	height: 0 !important;
	width: 0 !important;
}

#lleo_dialog {
    position: absolute !important;
    background: #fff !important;
    border: solid 1px #ccc !important;
    padding: 7px 0 0 !important;
    left: -999px;
    top: -999px;
    width: 440px !important;
    overflow: hidden;
    display: block !important;
    z-index: 999999999 !important;
    box-shadow: 8px 16px 30px rgba(0, 0, 0, 0.16) !important;
    border-radius: 3px !important;
    opacity: 0 !important;
    -webkit-transform: translateY(15px);
    -moz-transform: translateY(15px);
    -ms-transform: translateY(15px);
    -o-transform: translateY(15px);
    transform: translateY(15px);
}
#lleo_dialog.lleo_show_small {
    width: 150px !important;
}
#lleo_dialog.lleo_show {
    opacity: 1 !important;
    -webkit-transform: translateY(0);
    -moz-transform: translateY(0);
    -ms-transform: translateY(0);
    -o-transform: translateY(0);
    transform: translateY(0);
    -webkit-transition: -webkit-transform 0.3s, opacity 0.3s !important;
    -moz-transition: -moz-transform 0.3s, opacity 0.3s !important;
    -ms-transition: -ms-transform 0.3s, opacity 0.3s !important;
    -o-transition: -o-transform 0.3s, opacity 0.3s !important;
    transition: transform 0.3s, opacity 0.3s !important;
}
#lleo_dialog.lleo_collapse {
    opacity: 0 !important;
    -webkit-transform: scale(0.25, 0.1) translate(-550px, 100px);
    -moz-transform: scale(0.25, 0.1) translate(-550px, 100px);
    -ms-transform: scale(0.25, 0.1) translate(-550px, 100px);
    -o-transform: scale(0.25, 0.1) translate(-550px, 100px);
    transform: scale(0.25, 0.1) translate(-550px, 100px);
    -webkit-transition: -webkit-transform 0.4s, opacity 0.4s !important;
    -moz-transition: -moz-transform 0.4s, opacity 0.4s !important;
    -ms-transition: -ms-transform 0.4s, opacity 0.4s !important;
    -o-transition: -o-transform 0.4s, opacity 0.4s !important;
    transition: transform 0.4s, opacity 0.4s !important;
}
#lleo_dialog input::-webkit-input-placeholder {
    color: #aaa !important;
}
#lleo_dialog .lleo_has_pic #lleo_word {
	margin-right: 80px !important;
}
#lleo_dialog #lleo_translationsContainer1 {
	position: relative !important;
}
#lleo_dialog #lleo_translationsContainer2 {
	padding: 7px 0 0 !important;
	vertical-align: middle !important;
}
#lleo_dialog #lleo_word {
    color: #000 !important;
    margin: 0 5px 2px 0 !important;
    /*float: left !important;*/
}
#lleo_dialog .lleo_has_sound #lleo_word {
    margin-left: 30px !important;
}
#lleo_dialog #lleo_text {
    font-weight: bold !important;
    color: #d56e00 !important;
    text-decoration: none !important;
    cursor: default !important;
}
/*
#lleo_dialog #lleo_text.lleo_known {
    cursor: pointer !important;
    text-decoration: underline !important;
}
*/
/*#lleo_dialog #lleo_closeBtn {
    position: absolute !important;
    right: 6px !important;
    top: 5px !important;
    line-height: 1px !important;
    text-decoration: none !important;
    font-weight: bold !important;
    font-size: 0 !important;
    color: #aaa !important;
    display: block !important;
	z-index: 9999999999 !important;
	width: 7px !important;
	height: 7px !important;
	padding: 0 !important;
	margin: 0 !important;
}*/

#lleo_dialog #lleo_optionsBtn {
    position: absolute !important; 
    right: 3px !important;
    top: 5px !important;
    line-height: 1px !important;
    text-decoration: none !important;
    font-weight: bold !important;
    font-size: 13px !important;
    color: #aaa !important;
    padding: 2px !important;
	display: none;
}
    #lleo_dialog.lleo_optionsShown #lleo_optionsBtn {
        display: block !important;
    }
    #lleo_dialog #lleo_optionsBtn img {
        width: 12px !important;
        height: 12px !important;
    }
#lleo_dialog #lleo_sound {
    float: left !important;
    width: 16px !important;
    height: 16px !important;
    margin-left: 9px !important;
    margin-right: 3px !important;
    background: 0 0 no-repeat !important;
    cursor: pointer !important;
    display: none !important;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfNJREFUeNq0U01IVFEU/u57Oo5WhBRIBBptykWLYBa2soWiEKQQEbrSFsGbVRQKQc2iFqGitXqvjQxCoCJCqyI0aBUtZILaJNUuYWYWo8HovJ/707nP94bnz0rxwvfOuefd8517fi5TSuE4i50YwZ3l37ZhNlpgzFkaaM/G9sHF1YskNrT+7l4PjMOcb78t2JL71uxgB+2UlfxHTtq5N94fIOh/88kWgWfl73ZCSQkpeGg3H091JY6dI2S00qA/N3KO3dDUYhFgEmZGurG+w9FqApIHsVM7kaTF9Nhn0r8Q7hPWQgIRuNaH3AMUA4W/Lkdh04cpFS43G0TgxQTvCdMETVAk3KynIHwXZU/ge8XDt7KH9bKLjU0P2zVO5LsEpSejVRJ9UR18EtfqKegovs9R3Q6w9c/H1o4Aa2Jwm1lIvn9RJ4w9RdRRzqcYrpwycCll4Cy1lnkS3Bc6vfBg28v8aRIfI78zhB/1GygROH3jLyyzMQ0zlUZuZBSlKkeLoegGtTjYLcJ8pF+NakHOFC2J6w+f25mxSfWrWFF/ShXVPTGvtN14NNkVnxlYWJkgZEL7/vwKr55lKSVnaGYWkuYgrgG172uUv47+U7fw0EHaJXmalUQy/HqO6lBzEsVjJC4Q8kd6TETQpjuaGOvjv8b/AgwA/ij1XMx58NIAAAAASUVORK5CYII=) !important;
}
#lleo_dialog .lleo_has_sound #lleo_sound {
    display: block !important;
}

#lleo_dialog #lleo_soundWave {
    border: solid 5px #4495CC !important;
    border-radius: 5px !important;
    position: absolute !important;
    left: -5px !important;
    top: -5px !important;
    right: -5px !important;
    bottom: -5px !important;
    z-index: 0 !important;
    opacity: 0.9 !important;
    display: none !important;
}
    #lleo_dialog #lleo_soundWave.lleo_beforePlaying {
        display: block !important;
    }
    #lleo_dialog #lleo_soundWave.lleo_playing {
        opacity: 0 !important;
        border-width: 20px !important;
        border-radius: 30px !important;

        -webkit-transform: scale(1.07,1.1) !important;
        -moz-transform: scale(1.07,1.1) !important;
        -ms-transform: scale(1.07,1.1) !important;
        transform: scale(1.07,1.1) !important;

        -webkit-transition: all 0.6s !important;
        -moz-transition: all 0.6s !important;
        -ms-transition: all 0.6s !important;
        transition: all 0.6s !important;
    }


#lleo_dialog #lleo_picOuter {
    position: absolute !important;
    float: right !important;
    top: 4px;
    right: 5px;
    z-index: 9 !important;
    display: none !important;
    width: 100px !important;
}
    #lleo_dialog.lleo_optionsShown #lleo_picOuter {
        right: 25px;
    }
#lleo_dialog .lleo_has_pic #lleo_picOuter {
    display: block !important;
}
    #lleo_dialog #lleo_picOuter:hover {
        width: auto !important;
        z-index: 11 !important;
    }
#lleo_dialog #lleo_pic,
#lleo_dialog #lleo_picBig {
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    border: solid 2px #fff !important;
    -webkit-border-radius: 2px !important;
    -moz-border-radius: 2px !important;
	border-radius: 2px !important;
    z-index: 1 !important;
}
#lleo_dialog #lleo_pic {
	position: relative !important;
    border: none !important;
	width: 30px !important;
}
#lleo_dialog #lleo_picBig {
    box-shadow: -1px 2px 4px rgba(0,0,0,0.3);
    z-index: 2 !important;
    opacity: 0 !important;
    visibility: hidden !important;
}
    #lleo_dialog #lleo_picOuter:hover #lleo_picBig {
        visibility: visible !important;
        opacity: 1 !important;
        -webkit-transition: opacity 0.3s !important;
        -webkit-transition-delay: 0.3s !important;
    }
#lleo_dialog #lleo_transcription {
    margin: 0 80px 4px 31px !important;
    color: #aaaaaa !important;
}
#lleo_dialog .lleo_no_trans {
    color: #aaa !important;
}

#lleo_dialog .ll-translation-counter {
	float: right !important;
    font-size: 11px !important;
    color: #aaa !important;
    padding: 2px 2px 1px 10px !important;
}

#lleo_dialog .ll-translation-text {
	float: left !important;
	/*width: 80% !important;*/
}

#lleo_dialog #lleo_trans a {
    color: #3F669F !important;
    text-decoration: none !important;
    text-overflow: ellipsis !important;
    padding: 1px 4px !important;
    overflow: hidden !important;
    float: left !important;
    width: 320px !important;
}

#lleo_dialog .ll-translation-item {
    color: #3F669F !important;
    border: solid 1px #fff !important;
    padding: 3px !important;
    width: 100% !important;
    float: left !important;
	-moz-border-radius: 2px !important;
	-webkit-border-radius: 2px !important;
	border-radius: 2px !important;
}

#lleo_dialog .ll-translation-item:hover {
	border: solid 1px #9FC2C9 !important;
    background: #EDF4F6 !important;
	cursor: pointer !important;
}
#lleo_dialog .ll-translation-item:hover .ll-translation-counter {
	color: #83a0a6 !important;
}

#lleo_dialog .ll-translation-marker {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAWSURBVBhXY7RPm/+fAQkwIXNAbMICAJQ8AkvqWg/SAAAAAElFTkSuQmCC) !important;
    display: inline-block !important;
    width: 4px !important;
    height: 4px !important;
    margin: 7px 5px 2px 2px !important;
    float: left !important;
}

#lleo_dialog #lleo_icons {
    color: #aaa !important;
    font-size: 11px !important;
    background: #f8f8f8 !important;
    padding: 10px 10px 10px 16px !important;
}
#lleo_icons a {
    display: inline-block !important;
    width: 16px !important;
    height: 16px !important;
    margin: 0 10px -4px 3px !important;
    text-decoration: none !important;
    opacity: 0.5 !important;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAQCAYAAADK4SssAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADopJREFUeNqsWQt0lNWd/33fzGQemUcmzwkhSkhYSSgpJJGVWHlEVEwLq0AFhC520xN0cfcUkHZ7QNetwfac6mp3oR5Ss8c9XaPVhoJCtGwSkYQglQBBNg/IgxBIQl7zyCSZ97f/e7+ZyeShpu7eM/fc797vu9/j/u7v93+MUqlUwuv1IlQ6Ojqk7u5utLaWo/nanfB45tbnsSI6GgsXLhQwpcx/9rCE/0PpOLSL39Pnh9TY2Y1NJXW4NeTFz59agp9uXASfYwR/Xv9dxJ6pxwJBhCIQoKtFuIUAXPRksyTx+U2rVy0TtdrywNhYeviFJAlSsJ1oJNY2ZdfVLeKdiGIb96Kqw45LvU40Dbj42F2mKNyXasCjGTGI0aqmvr6wdseL075fEORl6h+yYWzcDaNeh8Q4E7z0kVPLx//5Il0uTLqHQqGA3z/92qioKHg8Hn5/SZqYogwdOBwO6d19+9DQ0ADdqrmTJhesLML6nQ38uLj4jHSkuJi/a+Q1vd8QxORg6/dBUtDblLzbhBuuOIhJcfhl5QCeyB9DusWA3MO/hf2+e6FwjtFHKGj15Y8M0Cd0KQTpbr8kCBrNsaTn9iXoH3jga5/739nZC7Mj+n7aHBVNwwSUEhuy4rCR6m8vD9ID5MVyeAI4cPo2suI0KMpJgEoU+A5QiCKmg0jT6H49/cP4Tt4i/FXaHLS0d6O57RZ0WvXXvltaWhpOnz7NCbZ371588MEHHLQ9e/bwev78eTzzzDPo7+8PzxFDIO4rKOAgomHihq+9ckxgdd26dWHQSkuBvJ2lmLqTv2kJbQAGot/nw9U7xDa9CQHakY5xFd45f4OdhWZhFtz534GP9k9A9PPWIxGgAu2AgHwP79hYYseRI8q+f/832Kqr4O7t5bt6pioFAmIkiJXXrbCYtbg85MF1q5vv+IFxH6KUApSizLDsJB09F2i3yozoc3pn/CaBVKPr9gC+X3g/3ih5GruL1mPPjx7DwLCdA/x1xWKx4K677kJ6ejpWr14dHt+xYwdSUlKQl5cHvV4/aQ7/GMZEDiDVI9IF4asecqQ4FwzvnaWl/x84hhnJwFAKSiTFaCDS7ifhhEjMu9pJS0dg0SH8Bh28BKqCXSuRxAp+ApMAFBX8Hj6PR3G+uhrDFRXoeekltG3ZjOsbN6L7wH4M/O53GKEX97pc8NGGCckSW9ibdg9anBJqu0ZgpFvNM0ahf8yH75GU7siOx3aqIjHQS8+N0SiRGa/BhR4nLHpVhBSKfEN03erHny+3IinehBf+cQuqzzby8+1dfURuKSy5X1UMBkP4eM6cOfxdmdQuWrSIj7nd7mlAKquqqqTyVXtnvfCFhUkoRi4xswG7V7RIM9lMVvJJHoryM7Gr4hxcLisfO7m3EIcrm1HZ3DmNkYIo79RHFsfjbHMvlGozLTKBKSpJPhUQ3WRvmlpwO1mE1WCGygMk2pxIcHjhlfzBzSDbQ2Jb2C56Bwfhra2F40wtFxHRaMK899+nU/LzGGAvnR+ARSUTNDVaBTVRMI6AO3VjhMCRkGPRUQusutuABbFqDsaJ63akmtQEZhSf5xx1wWTU4eBPfoDBYQeSE818fOV9i/HZpVYcPPQeLPHmWQGZmJgYPmasZGXt2rUcTFaiyVeJBJszMgxi7uxZxFjJrn/tzBnef5MA6iwp4uCFyrjVhieXp6H5wIYw61ip2FUIjcYc7oeO227a2DKjeG0GFib74LPZoVf58NTKuSSiAkr/9CaeeMSFFQeWYsOPv4XCvVl44GdLsbVoMU5mmcLsCrUBWnneRlYa81qHJzHy983UJzBvOTy8ppvV/Nz+2j581GwjGZav27AwBp/dHsUgXcuY1TLgxns0N/y9LjdMhmisJuD+dkMB1j24jJ7jx5vvnsLT+98gJ8cHg147q/XNysoCcziHhoY4C1NTU7F582Y0NjZikDZmXFzcdGkt6f8IxReO/KWKKDAsS4P29EDZOVhJsqqDgC6NMeOSzQrzc+Uhr5SDvPHwOd4/vHF5WFYL0mL48fee/wBHP2lGkl6Dcy+vwVu70nHhYB7WLJmDX/ypFDsbf42erBTZmwPRkfTVRTJXnx2Ln27PnQCSFpm1UhA8KeDnAPI2OM6cCCnoxLzfYkP3qA/dTh/ujPuxxKJF7e0x1BIbB91+LErUYoDA23rsBk5ccyCRGHu224meMT+fGyrxsUb09VtBHiyy1/4DOm7ewcjoOF58vRz6aDUSyGP1zeCxzlSYnLa3t8NqtUKtVnM2LliwALWkLIyJbA00Gs1kaaVJQjD8mOa87H7uMT722LrdMzyOFq9BRrKPQMspeZsDU09AHn1ug7yLXzmKtANlKNtWyEF+tvwcHny1kh8XZBbBQvawzya7+MMuLX7063r85vhlFORasH/7CtouEk5f/xzPf/IykJFI8ubjVl3wqYJSSrbTEwi/ul+SJTUEaESowVuOHXUiGXnJ6oVRLTP50XkGREcp8M41GzpcPjycZICOJPdfzvXhf0a8+GGWnhwfAUdJVtvo/IhnAphAQOJ2Uh2lQrROgzlJsQRmHwFsQrRWQ8wOzJoljG03b97kjMzIyMDWrVu5XaypqcGWLVsQGxsLo9E43dmZzY1n64Ey4Ha9XcP7DFAG4qGT5/BqzSUcenI5Dm3L5+dqyA4yUPPpelZiFR7oozSov+7Cq+XXcKN/lBZbgfmxKchIzyEL74JIjqboVxIkBCAtnAAVj4Ek0SMvZnCxQrLqj6wRUhsJJK097rj8vK4hG+ghKX2fgGL9VanRXEb/i5jH+o/ON5LDI6G8Ve6LX2LuEgg8jVqFnjvD8Hh9s7KLkxzA5GR88cUXOH78OO8zz5W998mTJ9HZ2Ul+g8jlNfK+XwlkKPzIzc2d4U0aJtlVJqche8ecmRCgBZnJxNInZfDoJTItMSSxlSh6uxL1nRNOj9c2iLlaN9bnxeMHaxfC5qAQgZ6aGpeMs1tK8XD8CkhjTlpYGiSAA4LMQ84yr2qatPpD8uqPlFm55dIaBHLzPSZIPgksuls334CaW04MkcyKBOg6Au6znjH0EBtTSMbvn6NDzQ0HOUh+PofNjSzs3g7nOCwJsrnout0fTkR8qY2aAWSz2Qyn0ymHg8HS3NzMEwHDw8Nhh2fGhMBfUljcyexjcQSQjH0hqXz7Inmml3oJOBsHtDAzDYe3FfDz5ec6Z/RaS/YU4KHcxYgzi/DZmzA8dAZdl3uQnLEJ8YYEnNj0Ov7mvT34uLcaUhTJip88WWJWIKAIpyZC3ioHjR1JEZmdCImNZGTx4jiUXbWjMM0IA8lqxXUHD+hXpuoRr1Xil239fLGfINBEan9P7BQ4FQU+V3aOJc4+pVKBzu4+PLWpgI9/WPM5OTi6aVmYyDJ1XKvVchvIWNfa2gqbzYaYmBhcvHiRn3e5XOHMzyQb+U2A3PfudU7I3btXhMeYPczJSkOaRYNtOZnYW7A0bP8YsCWVsrQeICbOFEduLfg2nIONuHz8aZhxBUrVGJRuEZ3XDiHlwT/CGJuOfy3Yi7r/uIIRkmGFjxYnwLIItKi+CSC5LQy24TWakqbjqa/gcS45M0uTNBwoJpvH2x3cS348w8gX+Xib3P/+PTFw+wI41j7C+0voO9lcbt/tTjz+yHIUrs6Fj+59b/YCUpRR2Kk6yeFhVU92U6OO4naUybXb4+XjLHUXWZhkqlQqDhh7z7a2Np4AuHr1aohE4ViTpVfZpvxGQL5UeYfHkCxLFxlDMi/1Ur0cLx44Ws9ldlvOBLAhtvZ+SWbHHRhFa/VOpBvPw2RmwTUF/14JmsEm9NfthmH9CdwTfzcs0YkYcXXCz9ItBKKKHB+fT86weP3+PkLMEo4jg6yMBDEEZIgJbOdXbUjD65eHUHumD0PjPs7wJqsb/1TXh3aKU1MMKiwjb/bDNjtsJKkatYC3Hkrhc/kmXrscP3tmEy43dWJJlhyCMafnk3cO4sKVNlTXX+FMHbQ64HJ7OaCW+Bjk52by8cgyb948XkdGRnifAUjrzG0jT3oEgWN2NDIXq4w0ebMpDMTcXBZLFn9lnpUlAcoigC3Kz+GMZACHEgSRcaTH3g+97xY0qhiMkI0SfGQH6T112lj4XbcheEcxLkbD5RylhVaRrEaRnfSSp+oPhxIdbvezGqWyjEAyRUrWVCBd4+PSRbf79KaQTSL79/cUxtxf0SknSlmsfMUatmHLLDouq0eJrfPj1PjNymSYVBPuhdmkD4cgpz+7ircqqqEimd3+2Cqs/OtvIS87I3zt6JiLJxkYCMyeNkaYGZ5YINtYVVUVls6ysjJuGxn7WDl16hQHmkkua0MAh4H8lb0G+0wFM4PX0BBeBQZiza+2TEqaJ0eAGQpBJuUOYyZinpzkGHJyrNOeoY2ZB3XCGowOV0Cp0/HQQylEwT+ugHrOOrKLenz4+cfosfdCMJDdYZkZryh7qpKcXdnZ1VXBcg4/TkwUF2k0+00KxaNmhSJPIQiT/rLoaGv7/BeDgw+9HDGWpFOh5ckM/KFjBD+pv4MeZ5C19BOVMmiPLzDhlRXJaOwdxVxj9IR/8FE9zl9q5Uy7eq0LNvsoHz97oYXCEDOSE8xIosrklaX6HCNj6O4d4uHJ1MKcmhdeeAF2u5336+rqOOgh23jixAlcuXJlGiOFqX9jsfLpp59Kxz58jXutISCZB7Vq6WZsvdc0499Y1iDTmPe6sYAko09+cC8Ftb29cuBcUrQcyVoz8l+ZsJNmmhP+G2t0SLI1vg6l/QuI3jEEVBqoLQ9DsbgILT19+O4bu3BLHKDFoLCA7SOJZEZSQTpY86X+/TK9XvmEyfR30aK4MUWjyffpdM4NjY2RyaZpXgizsSPeAKxuOZwxq0Wyj360DpFtpsvvm6sPyypbwzXbn5eYTWS206jXUhCv4gLA7sOk1OX2kE1kGaEAv4Y5RVq6RqtR8+OP3vrnaX9jRXq1kvT1/0/8rwADAJ+LRelLmVNwAAAAAElFTkSuQmCC) !important;
}
#lleo_icons a:hover {
    opacity: 1 !important;
}
#lleo_icons a.lleo_google     {background-position:-34px 0 !important;}
#lleo_icons a.lleo_multitran  {background-position:-64px 0 !important;}
#lleo_icons a.lleo_lingvo     {background-position:-51px 0 !important; width: 12px !important;}
#lleo_icons a.lleo_dict       {background-position:-17px 0 !important;}
#lleo_icons a.lleo_linguee    {background-position:-81px 0 !important;}
#lleo_icons a.lleo_michaelis  {background-position:-98px 0 !important;}

#lleo_dialog #lleo_contextContainer {
    margin: 0 !important;
    padding: 3px 15px 8px 10px !important;
    background: #eee !important;
    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee)) !important;
    background: -moz-linear-gradient(-90deg, #fff, #eee) !important;
    border-bottom: solid 1px #ddd !important;
    border-top-left-radius: 3px !important;
    border-top-right-radius: 3px !important;
    display: none !important;
    overflow: hidden !important;
}
#lleo_dialog .lleo_has_context #lleo_contextContainer {
    display: block !important;
}
#lleo_dialog #lleo_context {
    color: #444 !important;
    text-shadow: 1px 1px 0 #f4f4f4 !important;
    line-height: 12px !important;
    font-size: 11px !important;
    margin-left: 2px !important;
}
#lleo_dialog #lleo_context b {
    line-height: 12px !important;
    color: #000 !important;
    font-weight: bold !important;
    font-size: 11px !important;
}
/*#lleo_dialog #lleo_gBrand {
    color: #aaa !important;
    font-size: 10px !important;
    *//*padding-right: 52px !important;*//*
    padding-bottom: 14px !important;
    margin: -3px 4px 0 4px !important;
    background: left bottom url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAPCAYAAABJGff8AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAcVSURBVHja3FZrbFTHFT4z97W++/KatfHGNrFjMNjFLQ24iiVIFBzCD1SFqj/aRlCUCvjRKlVatUFJVJJGNKUtoRVqgZZWKWCVOEqKQxsaUoypaWzclNgGI9sLtndZv9beh/d133ems3ZAvKTGkfqnZ3U1d++9M+d88535zkGUUsjbpl/PgixiEEz05aHLIzsjo9cwIrrEy4EA7ypLm8rMAX2q850cYGMtmoD3tKOgYwF0QDAUjcFwwoLG33ih5hkZIJwFGjMA8QDRaQuCIzb0ZtbCMe00oCRbwUIwU7EHwo4jYFs6VASWPb3cv+yP7SfO9RCNNFIByLMpB+ybKIRoLgeXZhKweYrAfzP+1h3CABY90n/unafCwSs/xJK7BfMOzVZjq2w92WJlbhyzLeWSyXuCTXgMOKDsh2Dhlp9HoF57DdzTX4H4kteh5iHtzcRo8ph9XQ+DwZFGJME+RQYq5b/99HYLjNch7gi2t35roOONNQX+mh4kF7GnGDjnA70sgCe0eG+tIlcGX3F0wwtSN+gqBwJGvEXBumdVti9ImB/vNcT2DQHBGriMBkh17QZH7dFCgetBbIcywOa9Cm4QecSYx3dsV3Nz8x3Ytm7dio4fP063bNmC4HZ3BWrqpyN950d5qaDHVqeA2gZw8mLgRA9YBCKGDR+8zF2E3eg8AOdoCFuo+YpitswiboAFtwvNb/qcaTmy5+qg3XwjQi7YBLUjBCXsmmMSIbrZUJKHBWr2muZYRyo0vSfWV+YkyMx/YTTZPDyBCh68QeAP/ap5WuX4fobrsZvB3z7mgdyXmeRUvEjTjE5O8gIlBmDRC2LRKigp8QClOSguRfCj0PcZatejHYb455ORxPZaEf5azaOXRET3ahQWUQk9r+fMjgOHVFvg6FN11dhbGYB+SuBaVud8HhHvGx88tT6RMp6JzXxhmZ6OrqfGwC98KyZT0excfPqLgs8R5jwdhyMTr22Q8W+9Dn4kTLi/s3fi3RzfZOa2hJi3gZCKBLnIxzmK2Mb7GRgPEGqBIIpQXl4OevVGeEt+EqDI/7v3QxPaoGa38hxn1RRwP17sdk/lOP67KpiPDX6YXXuxj758I4rSdVUQKSuGnU4ZPMkk3u3Skjsmr3V/bKszPQW+qiZPcSWxcvHtlpJJ2wyLm6DMGm9g54V4ungltj+u9chHuhRytU0hz88Rz8Qqn1J3j/cwkzF4Q3AvedhWoiyneeCdFWy2hU1d28YU5nFJkMUDeN17681gqUPJqH6OvRYlKA34wXR5O1EytDkXy2xi5wgFSpDM0p2RiMBVAmcWpYAmppOrr03FbVxY2+T2+WFJpQ/S4YgWSV8PIsEp2jr7HsAmNl7m0BVp2rbrT0TTb4YNu83xKXXmFjPsjJzmPVUyO/B7BV8dcAV+luGUnwr1jWcS0Wh8bORryvC7Femh/qElmCwu5ZHopDZjTgC5QMJjBNRYkrQWOimw1Pp6KdMP4mCIy0QlqWM6Ebp+fna8+3uUcwcKS1e0SJA7ef1fred8n1NfKFwqFCMm12lKudDw8PulShbnCC0ux7TtG4US7PDghYGxlcltQEiMd5bt4pyB/VhwA5aKDW9p/QfVdStPg5mBYZ1a/0yYO/xg05US6lhOdNlOxus+ikw29s5mfjadQJ1ZBf5dXQFbH6lHG3wcOIwkPnyqjUYsPXvI70dviCKDL8o0MtS/WbeLXi1cvdrSxLTTMgykPcDV/bwq027o6vgKgdtbJ6L9tRK31oXhyQVJM2MmTW2tiuiJvyB1+jvUSD+NJX+fDtLkR13dZZNXT13NYv5iO//g5U1a/7o4gV8FLTgRiqu5M+nULpuQoyYTpFSWNiTT8HtVh59Ajx0cGNazlwfg8/rqXyqLH9pW4ghNfns2HiWZWNx2V6zqivWHvho50zKk902eRYQzTnwRL60ds2r8YfLuoE2+KepGk0DooYaFgMnrP9PNLLXVx830iGzMXGpkuexVxMKJuGUErVQkgbAEBpkTlc4khS/N6hREU2PPWIlAedllVLNLN2H7xAyFmQSBVAbBbP1+sKufexRGPzw52vW34xZFe4Cil6TihzshLv4JTq5zEmfrBjYTwMRAWFQKhQ1X9HzRNKFeRAsrmncUNcQrFKG2ucrAOgOOF8BmopCvI+iTYpLPT475EBgCfJevPCieoyCxIxP2vQIZx7MQ0FKv9/VdELRc/DlP5UZwuIqgYNHSjYmBtzvpoOqSXI9k9eWd833FnJ/82vPx4IV2APcDBZ+pXflkYUxhXK+BsxOb2L8eiFLrHyq3ZI1nacNBuaT+oNPBs7oZfdFIDbeAhLOcUQZcrhwIGv3Mfnn4H1k+HMVwQTY1zdoelj6U/MA2ZmcBcVu0xOAazUiMqTN9Z3U1cRALMiBbuF9dXJjPm13z/4P9R4ABANu4bb16FOo4AAAAAElFTkSuQmCC) no-repeat !important;
    display: inline-block !important;
    float: right !important;
}
#lleo_dialog #lleo_gBrand.hidden {
    display: none !important;
}*/
#lleo_dialog #lleo_translateContextLink {
    color: #444 !important;
    text-shadow: 1px 1px 0 #f4f4f4 !important;
    background: -webkit-gradient(linear, left top, left bottom, from(#f4f4f4), to(#ddd)) !important;
    background: -moz-linear-gradient(-90deg, #f4f4f4, #ddd) !important;
    border: solid 1px !important;
    box-shadow: 1px 1px 0 #f6f6f6 !important;
    border-color: #999 #aaa #aaa #999 !important;
    -moz-border-radius: 2px !important;
	-webkit-border-radius: 2px !important;
	border-radius: 2px !important;
    padding: 0 3px !important;
    font-size: 11px !important;
    text-decoration: none !important;
    margin: 1px 5px 0 !important;
    display: inline-block !important;
    white-space: nowrap !important;
}
#lleo_dialog #lleo_translateContextLink:hover {
    background: #f8f8f8 !important;
}
#lleo_dialog #lleo_translateContextLink.hidden {
    visibility: hidden !important;
}

#lleo_dialog #lleo_setTransForm {
    display: block !important;
    margin-top: 3px !important;
    padding-top: 5px !important;
    /* Set position and background because the form might be overlapped by an image when no translations */
    position: relative !important;
    background: #fff !important;
    z-index: 10 !important;
    padding-bottom: 10px !important;
    padding-left: 16px !important;
}
#lleo_dialog .lleo-custom-translation {
    padding: 4px 5px !important;
    border: solid 1px #ddd !important;
	border-radius: 2px !important;
    width: 90% !important;
    min-width: 270px !important;
    background: -webkit-gradient(linear, 0 0, 0 20, from(#f1f1f1), to(#fff)) !important;
    background: -moz-linear-gradient(-90deg, #f1f1f1, #fff) !important;
	font: normal 13px Arial, Helvetica !important;
	line-height: 15px !important;
}
#lleo_dialog .lleo-custom-translation:hover {
    border: solid 1px #aaa !important;
}
#lleo_dialog .lleo-custom-translation:focus {
    background: #FFFEC9 !important;
}

#lleo_dialog *.hidden {
    display: none !important;
}

#lleo_dialog .infinitive{
    color: #D56E00 !important;
    text-decoration: none;
    border-bottom: 1px dotted #D56E00 !important;
}
#lleo_dialog .infinitive:hover{
    border: none !important;
}

#lleo_dialog .lleo_separator {
    height: 1px !important;
    background: #eee;
    margin-top: 10px !important;
    background: -webkit-linear-gradient(left, rgba(255,255,255,1) 0%,#eee 8%,rgba(255,255,255,1) 80%) !important;
    background: -moz-linear-gradient(left, rgba(255,255,255,1) 0%, #eee 8%, rgba(255,255,255,1) 80%) !important;
    background: -ms-linear-gradient(left, rgba(255,255,255,1) 0%,#eee 8%,rgba(255,255,255,1) 80%) !important;
    background: linear-gradient(to right, rgba(255,255,255,1) 0%,#eee 8%,rgba(255,255,255,1) 80%) !important;
}
#lleo_dialog #lleo_trans {
    /*border-top: 1px solid #eeeeee !important;*/
    padding: 5px 30px 0 14px !important;
    zoom: 1;
}

#lleo_dialog .lleo_clearfix {
	display: block !important;
	clear: both !important;
	visibility: hidden !important;
	height: 0 !important;
	font-size: 0 !important;
}


#lleo_dialog #lleo_picOuter table {
    width: 44px !important;
    position: absolute !important;
    right: 0 !important;
    top: 0 !important;
    vertical-align: middle !important;
}

#lleo_dialog #lleo_picOuter td {
    width: 38px !important;
    height: 38px !important;
    /*border: 1px solid #eeeeee !important;*/
    vertical-align: middle !important;
    text-align: center !important;
}

#lleo_dialog #lleo_picOuter td div {
	height: 38px !important;
	overflow: hidden !important;
}

#lleo_dialog .lleo_empty {
    margin: 0 5px 7px !important;
}

#lleo_youtubeExportBtn {
    margin-left: 10px;
    height: 24px;
}
    #lleo_youtubeExportBtn i {
        display: inline-block;
        width: 16px;
        height: 16px;
        background: 0 0 url(https://d144fqpiyasmrr.cloudfront.net/plugins/all/images/i16.png) !important;
    }
    #lleo_youtubeExportBtn .yt-uix-button-content {
        font-size: 12px;
        line-height: 2px;
    }


/*** Parsed Lyrics Content *****************************/

.lleo_lyrics tran {
    background: transparent !important;
    border-radius: 2px !important;
    text-shadow: none !important;
    cursor: pointer !important;
}
    .lleo_lyrics tran:hover {
        color: #fff !important;
        background: #C77213 !important;
        -webkit-transition: all 0.1s !important;
        -moz-transition: all 0.1s !important;
        -ms-transition: all 0.1s !important;
        -o-transition: all 0.1s !important;
        transition: all 0.1s !important;
    }

.lleo_songName {
    border: solid 1px #ffd47c;
    background: #fff1c2;
    border-radius: 2px;
}

.lleo_hidden_iframe {
    visibility: hidden;
}</style></head>

  <body class="nl">
    <div class="layout">
      <div id="TMpanel">
  <div class="container">
    <div class="bmenu">
      <a href="https://tmfeed.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">TM Feed</a>
      <a href="https://habrahabr.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo" class="current">Хабрахабр</a>
      <a href="https://geektimes.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Geektimes</a>
      <a href="https://toster.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Тостер</a>
      <a href="https://moikrug.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Мой круг</a>
      <a href="https://freelansim.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Фрилансим</a>
    </div>
      <div class="bmenu_inner" style="visibility: visible !important;">
        <span class="bmenu__label">Спецпроекты:</span>
        <span class="bmenu slink"><a href="http://bit.ly/2gEbpDq" target="_blank" style="color: #31B007">СберТех: вакансии</a></span>
        <span id="adriver_banner_465568687"></span>
      </div>
  </div>
</div>

      <div class="layout__navbar">
        <div class="main-navbar">
  <div class="main-navbar__section main-navbar__section_left" data-style="display: flex;">
    <a href="https://habrahabr.ru/" class="logo">
      <svg class="icon-svg icon-svg_logo-habrahabr" width="181" height="32" viewBox="0 0 181 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><title>Хабрахабр</title><path d="M24.736 1.044h-8.582L12.53 6.168 8.91 1.044H.325l7.898 11.194L0 23.888h8.583l3.948-5.58 3.95 5.58h8.583l-8.256-11.65zM34.033 7.082c-3.133 0-6.036.88-8.256 2.61l2.87 3.428c1.502-.98 3.754-1.535 5.255-1.535 1.372 0 2.577.36 2.577 2.09v.49c-6.56 0-11.096 1.142-11.096 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.386-2.61v2.12h6.07V12.696c0-4.765-4.73-5.613-8.516-5.613zm2.448 11.455c-.912 1.21-1.89 1.73-2.773 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.373-2.087v1.63zM53.937 8.746c-1.47 0-3.818.62-4.863 1.894.294-2.448 2.023-3.655 5.32-4.308 1.534-.294 5.155-.98 7.18-1.402L60.463 0c-2.546.62-4.864 1.143-7.508 1.633-6.657 1.24-8.125 5.156-8.125 12.14 0 6.658 2.743 10.608 8.813 10.608 5.188 0 8.615-3.426 8.615-8.517 0-3.983-2.87-7.116-8.32-7.116zm-.39 10.28c-1.437 0-2.644-1.24-2.644-2.675s1.207-2.675 2.643-2.675c1.436 0 2.643 1.24 2.643 2.676s-1.208 2.677-2.644 2.677zM74.82 7.082c-1.664 0-3.46 1.044-4.21 2.61v-2.12h-6.07v22.974h6.07v-8.778c.752 1.567 2.546 2.61 4.21 2.61 4.765 0 7.343-3.883 7.343-8.648 0-4.764-2.577-8.647-7.343-8.647zm-1.957 11.552c-.88 0-1.697-.423-2.252-1.108v-3.622c.555-.653 1.373-1.076 2.253-1.076 1.567 0 2.905 1.273 2.905 2.905 0 1.564-1.338 2.902-2.905 2.902zM92.767 7.082c-3.133 0-6.038.88-8.256 2.61l2.872 3.428c1.5-.98 3.753-1.535 5.254-1.535 1.372 0 2.58.36 2.58 2.09v.49c-6.56 0-11.098 1.142-11.098 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.387-2.61v2.12h6.068V12.696c0-4.765-4.732-5.613-8.516-5.613zm2.448 11.455c-.915 1.21-1.894 1.73-2.775 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.375-2.087v1.63zM122.723 7.57h-7.703l-2.055 4.276-2.057-4.275h-7.7l5.58 7.997-5.874 8.32h7.702l2.35-4.306 2.35 4.308h7.702l-6.528-8.32zM132.967 7.082c-3.133 0-6.038.88-8.257 2.61l2.873 3.428c1.503-.98 3.753-1.535 5.255-1.535 1.37 0 2.58.36 2.58 2.09v.49c-6.56 0-11.098 1.142-11.098 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.386-2.61v2.12h6.068V12.696c0-4.765-4.732-5.613-8.516-5.613zm2.448 11.455c-.913 1.21-1.894 1.73-2.775 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.375-2.087v1.63zM152.87 8.746c-1.468 0-3.817.62-4.862 1.894.294-2.448 2.023-3.655 5.32-4.308 1.536-.294 5.157-.98 7.18-1.402L159.397 0c-2.546.62-4.864 1.143-7.506 1.633-6.657 1.24-8.125 5.156-8.125 12.14 0 6.658 2.742 10.608 8.81 10.608 5.19 0 8.617-3.426 8.617-8.517 0-3.983-2.873-7.116-8.323-7.116zm-.39 10.28c-1.437 0-2.643-1.24-2.643-2.675s1.206-2.675 2.643-2.675c1.436 0 2.643 1.24 2.643 2.676 0 1.437-1.207 2.677-2.643 2.677zM173.754 7.082c-1.664 0-3.46 1.044-4.21 2.61v-2.12h-6.07v22.974h6.07v-8.778c.75 1.567 2.546 2.61 4.21 2.61 4.764 0 7.343-3.883 7.343-8.648 0-4.764-2.58-8.647-7.343-8.647zm-1.958 11.552c-.88 0-1.697-.423-2.252-1.108v-3.622c.554-.653 1.37-1.076 2.252-1.076 1.565 0 2.905 1.273 2.905 2.905 0 1.564-1.34 2.902-2.904 2.902z"></path></svg>
    </a>
    <ul class="nav-links" id="navbar-links">
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/" class="nav-links__item-link ">Публикации</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/hubs/" class="nav-links__item-link ">Хабы</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/companies/" class="nav-links__item-link ">Компании</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/users/" class="nav-links__item-link ">Пользователи</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/sandbox/" class="nav-links__item-link ">Песочница</a>
  </li>
</ul>
    <form action="https://habrahabr.ru/search/#h" method="get" class="search-form" id="search-form">
  <!-- Я вернулся братиш, после стольких лет разлуки:) -->
  <button type="button" class="btn btn_navbar_search" id="search-form-btn">
    <svg class="icon-svg icon-svg_navbar-search" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M21.416 13.21c0 4.6-3.65 8.34-8.14 8.34S5.11 17.81 5.11 13.21c0-4.632 3.65-8.373 8.167-8.373 4.488 0 8.14 3.772 8.14 8.372zm1.945 7.083c1.407-2.055 2.155-4.57 2.155-7.084C25.515 6.277 20.04.665 13.277.665S1.04 6.278 1.04 13.21c0 6.93 5.475 12.542 12.237 12.542 2.454 0 4.907-.797 6.942-2.208l7.6 7.79 3.14-3.22-7.6-7.82z"></path></svg>
  </button>
  <label class="search-form__field-wrapper">
    <input type="text" name="q" class="search-form__field" id="search-form-field" placeholder="Поиск" tabindex="-1">
    <button type="button" class="btn btn_search-clear" id="search-form-clear">
      <svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"></path></svg>

    </button>
  </label>
</form>
  </div>

  <div class="main-navbar__section main-navbar__section_right" data-style="display: flex;">
      <a href="https://habrahabr.ru/auth/login/" id="login" class="btn btn_x-large btn_navbar_login">Войти</a>
      <a href="https://habrahabr.ru/auth/register/" class="btn btn_x-large btn_navbar_registration">Регистрация</a>


  </div>
</div>
      </div>
      <div class="layout__base">
        

          <div class="profile-header js-user_130346">

  <div class="profile-header__summary author-info author-info_profile ">
    <a href="https://habrahabr.ru/users/NorthernEyes/" class="author-info__image" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_top&#39;, &#39;profile&#39;, &#39;NorthernEyes&#39;);}">
        <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/349514e132530a90c7f4288c6ab70972.png" class="author-info__image-pic">

    </a>

    <div class="author-info__desc">
      <div class="author-info__username">
         <a href="https://habrahabr.ru/users/NorthernEyes/" class="author-info__name" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_top&#39;, &#39;profile&#39;, &#39;NorthernEyes&#39;);}">Георгий</a> 
        <a href="https://habrahabr.ru/users/NorthernEyes/" class="author-info__nickname" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_top&#39;, &#39;profile&#39;, &#39;NorthernEyes&#39;);}">@NorthernEyes</a>
        
      </div>
        <div class="author-info__specialization">
          Пользователь
        </div>
    </div>
  </div>

    <div class="profile-header__stats">

      <div class="karma__widjet voting-wjt voting-wjt_user-profile js-karma  ">

        <div class="voting-wjt__counter js-karma-mark voting-wjt__counter_positive " title="8 голосов">
          <div class="voting-wjt__counter-score js-karma_num">6,0</div>
          <div class="voting-wjt__label">карма</div>
        </div>

      </div>

      <div class="statistic statistic_user-rating" title="Рейтинг пользователя">
        <div class="statistic__value statistic__value_magenta">0,0</div>
        <div class="statistic__label">рейтинг</div>
      </div>

    </div>


</div>

  <div class="content_wrapper column-wrapper_content">
    <div class="column-wrapper js-sticky-wrapper">
      <div class="content_left js-content_left">
          <div class="tabs">
    <ul class="tabs-menu tabs-menu_habrahabr">
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/NorthernEyes/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter"></strong>
                </span>
                <span class="stats__value">Профиль</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/NorthernEyes/topics/" class="tab-item tab-item_stacked tab-item_current">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">1</strong>
                </span>
                <span class="stats__value">Публикации</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/NorthernEyes/comments/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">12</strong>
                </span>
                <span class="stats__value">Комментарии</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/NorthernEyes/favorites/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">37</strong>
                </span>
                <span class="stats__value">Избранное</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_user-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/users/NorthernEyes/subscription/followers/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">3</strong>
                </span>
                <span class="stats__value">Подписчики</span>
            </span></a>
          </li>
    </ul>

  </div>


        <div class="post_show">
          
    <div class="post post_full" id="post_139428">
  <div class="post__header">
    <span class="post__time_published">
        5 марта 2012 в 13:49 
    </span>

    <h1 class="post__title">
      <a href="https://habrahabr.ru/flows/develop/" class="post__flow" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;flow&#39;, &#39;post page&#39;, &#39;Разработка&#39;); }">Разработка</a><span class="post__title-arrow">&nbsp;→</span>
      <span>Реализация RGB-алгоритма изменения контраста изображения</span>
      



<a href="https://habrahabr.ru/sandbox/" class="flag flag_sandbox" title="Перейти в песочницу">из песочницы</a>







    </h1>

      <div class="hubs">
          <a href="https://habrahabr.ru/hub/image_processing/" class="hub " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Обработка изображений&#39;); }">Обработка изображений</a><span class="profiled_hub" title="Профильный хаб">*</span>
      </div>
  </div>

  <div class="post__body post__body_full">
    <div class="content html_format"><img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/6723268cfcbed8c2e473f9244fbcdbff.png"><br>
<br>
Во время работы над программой, предназначенной для обработки видео-потока, возникла необходимость реализовать алгоритм изменения контраста изображения.<br>
<br>
Так как программа была предназначена для обработки видео, то от реализации требовалась высокая производительность, в том числе способность обрабатывать видео разрешения Full HD. Код был написан на С++ с использованием библиотеки OpenMP.<br>
<br>
<a name="habracut"></a><br>
<br>
Существует несколько алгоритмов изменения контраста, часть из которых рассмотрена в этой статье [1]. <br>
<br>
Рассмотрим RGB-алгоритм изменения контраста.<br>
Вначале мы вычисляем среднее значение яркости изображения lAB. Используем директиву OpenMP для распараллеливания цикла:<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> omp parallel for private(valueB,valueG,valueR) reduction(+:lAB) schedule(static,1)</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; ptrImage-&gt;imageSize; j = j+<span class="hljs-number">3</span>)
{
	valueB = ptrImage-&gt;imageData[j];
	valueG = ptrImage-&gt;imageData[j+<span class="hljs-number">1</span>];
	valueR = ptrImage-&gt;imageData[j+<span class="hljs-number">2</span>];

	lAB += (<span class="hljs-keyword">int</span>)(valueR * <span class="hljs-number">0.299</span> + valueG * <span class="hljs-number">0.587</span> + valueB * <span class="hljs-number">0.114</span>);
}

<span class="hljs-comment">//средняя яркость </span>
lAB /= imageRows * imageCols;   
</code></pre><br>
Затем для каждого пикселя изображения для каждой из цветовых компонент R, G, и B мы должны найти отклонение от среднего значения яркости delta, и это отклонение умножить на коэффициент усиления(ослабления) контраста k. Выполнять это непосредственно над всеми пикселями изображения слишком дорогостоящая операция. Поэтому, учитывая, что мы преобразовываем все цветовые компоненты пикселя одинаково, введём массив из 256 значений, который будет представлять палитру для каждой цветовой компоненты. Индекс массива соответствует старому значению цветовой компоненты, а значение массива — преобразованному. Таким образом, применяя ранее описанные преобразования для изменения контраста к палитре, получим: <br>
<pre><code class="cpp hljs"><span class="hljs-comment">//Коэффициент коррекции</span>
 <span class="hljs-keyword">double</span> k = <span class="hljs-number">1.0</span> + correction / <span class="hljs-number">100.0</span>;
	
 <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">256</span>; i++)
{
	<span class="hljs-keyword">int</span> delta = (<span class="hljs-keyword">int</span>)i - lAB;
	<span class="hljs-keyword">int</span> temp  = (<span class="hljs-keyword">int</span>)(lAB + k *delta);

	<span class="hljs-keyword">if</span> (temp &lt; <span class="hljs-number">0</span>)
		temp = <span class="hljs-number">0</span>;

	<span class="hljs-keyword">if</span> (temp &gt;= <span class="hljs-number">255</span>)
		temp = <span class="hljs-number">255</span>;
	b[i] = (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>)temp;
}
</code></pre><br>
<br>
И далее, применяем новые значения для пикселей всего изображения, сопоставляя старое значение цветовой компоненты пикселя с новым, используя полученный массив палитры:<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> omp parallel for firstprivate(b)</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; ptrImage-&gt;imageSize; j++)
{
	<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> value = ptrImage-&gt;imageData[j];
	ptrImage-&gt;imageData[j] = (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>)b[value];
}
</code></pre><br>
Весь исходный код функции для изменения контраста:<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> L = <span class="hljs-number">256</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">AddContrastFilter</span><span class="hljs-params">(IplImage* ptrImage, <span class="hljs-keyword">int</span> _correction)</span>
</span>{
	<span class="hljs-comment">// установить число потоков в 4, равным количеству процессоров в системе</span>
	omp_set_num_threads(<span class="hljs-number">4</span>); 

	<span class="hljs-keyword">int</span> correction = _correction;

        <span class="hljs-comment">//палитра</span>
	<span class="hljs-keyword">int</span> b[L];

	<span class="hljs-comment">//Число строк и столбцов</span>
	<span class="hljs-keyword">int</span> imageRows = ptrImage-&gt;height;
	<span class="hljs-keyword">int</span> imageCols = ptrImage-&gt;width;

	<span class="hljs-keyword">int</span> lAB = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> valueB = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> valueG= <span class="hljs-number">0</span>;
	<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> valueR= <span class="hljs-number">0</span>;

	<span class="hljs-comment">//Находим яркость всех пикселей</span>
	<span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> omp parallel for private(valueB,valueG,valueR) reduction(+:lAB) schedule(static,1)</span>
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; ptrImage-&gt;imageSize; j = j+<span class="hljs-number">3</span>)
	{
		valueB = ptrImage-&gt;imageData[j];
		valueG = ptrImage-&gt;imageData[j+<span class="hljs-number">1</span>];
		valueR = ptrImage-&gt;imageData[j+<span class="hljs-number">2</span>];

		lAB += (<span class="hljs-keyword">int</span>)(valueR * <span class="hljs-number">0.299</span> + valueG * <span class="hljs-number">0.587</span> + valueB * <span class="hljs-number">0.114</span>);
	}

	<span class="hljs-comment">//средняя яркость всех пикселей</span>
	lAB /= imageRows * imageCols;   

	<span class="hljs-comment">//Коэффициент коррекции</span>
	 <span class="hljs-keyword">double</span> k = <span class="hljs-number">1.0</span> + correction / <span class="hljs-number">100.0</span>;

	<span class="hljs-comment">//RGB алгоритм изменения контраста	</span>
	 <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; L; i++)
	{
		<span class="hljs-keyword">int</span> delta = (<span class="hljs-keyword">int</span>)i - lAB;
		<span class="hljs-keyword">int</span> temp  = (<span class="hljs-keyword">int</span>)(lAB + k *delta);

		<span class="hljs-keyword">if</span> (temp &lt; <span class="hljs-number">0</span>)
			temp = <span class="hljs-number">0</span>;

		<span class="hljs-keyword">if</span> (temp &gt;= <span class="hljs-number">255</span>)
			temp = <span class="hljs-number">255</span>;
		b[i] = (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>)temp;
	}

	
	<span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> omp parallel for firstprivate(b)</span>
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; ptrImage-&gt;imageSize; j++)
	{
		<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> value = ptrImage-&gt;imageData[j];
		ptrImage-&gt;imageData[j] = (<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>)b[value];
	}
				
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre><br>
У меня получилось, что изменение контраста Full HD кадра на четырёх-ядерном процессоре Intel Xeon занимает по времени порядка 8 мс. <br>
<br>
<h4>Ссылки</h4><br>
1. Преобразование контраста в программном обеспечении: <a href="http://www.kweii.com/site/color_theory/Contrast100_ru.pdf">http://www.kweii.com/site/color_theory/Contrast100_ru.pdf</a></div>
    
    <div class="post__tags">
  <ul class="tags icon_tag">
      <li><a href="https://habrahabr.ru/search/?q=%5B%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%20%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9%5D&amp;target_type=posts" rel="tag">обработка изображений</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D1%8B%5D&amp;target_type=posts" rel="tag">алгоритмы</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5Bopenmp%5D&amp;target_type=posts" rel="tag">openmp</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5Bopencv%5D&amp;target_type=posts" rel="tag">opencv</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F%5D&amp;target_type=posts" rel="tag">оптимизация</a></li>
  </ul>
</div>
  </div>
</div>


        </div>
      </div>

      <div class="sidebar_right sidebar_content-area sticky_init">
            <div class="xyz_wrapper is_visible">
    <div class="xyz_wrapper_inner" id="xyz_wrapper" style="width:100%;min-height: 250px;">
      <span class="xyz_wrapper_text" id="xyz_text">Реклама помогает поддерживать и&nbsp;развивать наши сервисы<br><br><a href="https://habrahabr.ru/adblock/" class="xyz_wrapper_button" target="_blank">Подробнее</a></span>
      <!--  AdRiver code START. Type:AjaxJS Site: habrahabr BN:1 -->
      <div id="adriver_banner_1096808718" style="background:#fff;width: 100%;text-align:center;"></div>
      <script type="text/javascript">
        var keyword = '';
        var custom = [];
        custom[7] = ar_duo1;

        if (typeof crtg_content !== 'undefined' && crtg_content) { keyword = crtg_content; }
         custom[1] = 'h_image_processing';  custom[2] = 'f_develop'; 

        if ( typeof(adriver) !== 'undefined'){
          hidePlaceholder();
          new adriver("adriver_banner_1096808718", {sid:176776, bt:52, bn:1, custom: custom, keyword: keyword});
        }

        function hidePlaceholder(){
          document.getElementById('xyz_wrapper').style.background = "white";
          document.getElementById('xyz_text').style.display = "none";
        }
      </script>
      <!--  AdRiver code END  -->
    </div>
    <a href="https://special.habrahabr.ru/advertising/" class="firskill__label">Реклама</a>
  </div>

          

  <div class="sidebar-block sidebar-block_top-hubs js-tophubs is_visible">
    <h2 class="sidebar-block__title">Хабы</h2>
    <div class="sidebar-block__content">
      <ul class="content-list top-hubs">
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/gamedev/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;Разработка игр&#39;); }">Разработка игр</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/net/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;.NET&#39;); }">.NET</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/csharp/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;C#&#39;); }">C#</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/android_dev/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;Разработка под Android&#39;); }">Разработка под Android</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/algorithms/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;Алгоритмы&#39;); }">Алгоритмы</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/webdev/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;Разработка веб-сайтов&#39;); }">Разработка веб-сайтов</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/ios_dev/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;Разработка под iOS&#39;); }">Разработка под iOS</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/symfony/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;Symfony&#39;); }">Symfony</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/php/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;PHP&#39;); }">PHP</a>
          </li>
          <li class="content-list__item top-hubs__item">
            <a href="https://habrahabr.ru/hub/mongodb/" class="content-list__item-link top-hubs__item-title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;MongoDB&#39;); }">MongoDB</a>
          </li>
      </ul>
    </div>
    <div class="sidebar-block__footer">
      <a href="https://habrahabr.ru/flows/develop/hubs/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;hubs&#39;, &#39;all_hubs&#39;); }">Все хабы</a>
    </div>
  </div>

            <div class="wrapper-sticky sticky-active" style="display: block; height: 266px; width: auto; margin: auto; position: relative; float: none; left: auto; right: auto; top: auto; bottom: auto; vertical-align: top;"><div class="js-ad_sticky is_visible sticky" style="width: 300px; top: 20px; bottom: auto; left: 1115px; right: auto; position: fixed;"><div class="xyz_wrapper">
  <div class="xyz_wrapper_inner">
    <span class="xyz_wrapper_text">Реклама помогает поддерживать и&nbsp;развивать наши сервисы<br><br><a href="https://habrahabr.ru/adblock/" class="xyz_wrapper_button" target="_blank">Подробнее</a></span>

    <!-- Yandex.RTB R-A-149298-19 -->
    <div id="yandex_rtb_R-A-149298-19" style="background: #fff;"></div>
    
  </div>
  <a href="https://special.habrahabr.ru/advertising/" class="firskill__label">Реклама</a>
</div>
</div></div>
      </div>
    </div>

    <div class="column-wrapper">
      <div class="content_left indented">
        <div class="post-additionals">
            <div class="infopanel_wrapper js-user_130346">
    <ul class="postinfo-panel postinfo-panel_post" id="infopanel_post_139428">

          <li class="postinfo-panel__item">
            <div class="voting-wjt voting-wjt_infopanel js-voting  ">
                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи.">
                  <span>↑</span>
                </button>

              <div class="voting-wjt__counter voting-wjt__counter_positive  js-mark">
                  <span class="voting-wjt__counter-score js-score" title="Общий рейтинг 36: ↑26 и ↓10">+16</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи.">
                  <span>↓</span>
                </button>

            </div>
          </li>

      <li class="postinfo-panel__item">
        <div class="views-count_post" title="Просмотры публикации">17,2k</div>
      </li>

      <li class="postinfo-panel__item">
        <div class="favorite-wjt favorite">
            <button type="button" disabled="" class="favorite-wjt__button favorite-wjt__button_disabled" onclick="return false;" title="Только зарегистрированные пользователи могут добавлять публикации в избранное">
              <span>Добавить в избранное</span>
            </button>
          <span class="favorite-wjt__counter js-favs_count" title="Количество пользователей, добавивших публикацию в избранное">89</span>
        </div>
      </li>




      <li class="postinfo-panel__item postinfo-panel__item_align-right">
          <!-- шеринг в соцсети -->
          <ul class="post-share">
            <li class="post-share__item">
              <a href="https://twitter.com/intent/tweet?text=%D0%A0%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F+RGB-%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D0%B0+%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F+%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D1%81%D1%82%D0%B0+%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F+https://habr.ru/p/139428/+via+%40habrahabr+%23habr" class="post-share__item-link twitter" onclick="window.open(this.href, &#39;Опубликовать ссылку  в Twitter&#39;, &#39;width=800,height=300,resizable=yes,toolbar=0,status=0&#39;); return false" title="Опубликовать ссылку в Twitter"></a>
            </li>
            <li class="post-share__item">
              <a href="https://vk.com/share.php?url=https://habrahabr.ru/post/139428/" class="post-share__item-link vkontakte" title="Опубликовать ссылку во ВКонтакте" onclick="window.open(this.href, &#39;Опубликовать ссылку во Вконтакте&#39;, &#39;width=800,height=300,toolbar=0,status=0&#39;); return false"></a>
            </li>
            <li class="post-share__item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://habrahabr.ru/post/139428/" class="post-share__item-link facebook" title="Опубликовать ссылку в Facebook" onclick="window.open(this.href, &#39;Опубликовать ссылку в Facebook&#39;, &#39;width=640,height=436,toolbar=0,status=0&#39;); return false"></a>
            </li>
            <li class="post-share__item">
              <a href="https://getpocket.com/edit?url=https://habrahabr.ru/post/139428/&amp;title=%D0%A0%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F%20RGB-%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D0%B0%20%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D1%81%D1%82%D0%B0%20%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F" target="_blank" class="post-share__item-link pocket" title="Добавить ссылку в Pocket"></a>
            </li>
          </ul>

      </li>
    </ul>
  </div>

              <form action="https://habrahabr.ru/conversations/NorthernEyes/" method="GET" class="form form_admin-causes hidden" id="admin_causes">
    <input type="hidden" name="moderation" value="139428">
    <fieldset class="form__fieldset form__fieldset_admin-causes">
      <legend class="form__legend">Выберите рекомендации для отправки автору:</legend>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="1">
        <span class="form__label-text">Указан только блог</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="2">
        <span class="form__label-text">Орфографические ошибки</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="3">
        <span class="form__label-text">Пунктуационные ошибки</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="4">
        <span class="form__label-text">Отступы</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="5">
        <span class="form__label-text">Текст-простыня</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="6">
        <span class="form__label-text">Короткие предложения</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="7">
        <span class="form__label-text">Смайлики</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="8">
        <span class="form__label-text">Много форматирования</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="9">
        <span class="form__label-text">Картинки</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" "="" value="10">
        <span class="form__label-text">Ссылки</span>
      </label>
    </fieldset>

    <button type="submit" class="btn btn_medium btn_grey">Отправить</button>
  </form>

              

  <div class="author-info ">
    <a href="https://habrahabr.ru/users/NorthernEyes" class="author-info__image" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_bottom&#39;, &#39;profile&#39;, &#39;NorthernEyes&#39;);}">
        <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/349514e132530a90c7f4288c6ab70972.png" class="author-info__image-pic">
    </a>

    <div class="author-info__desc js-user_130346">
      <div class="author-info__username">
          <a href="https://habrahabr.ru/users/NorthernEyes" class="author-info__name" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_bottom&#39;, &#39;profile&#39;, &#39;NorthernEyes&#39;);}">Георгий</a>
        <a href="https://habrahabr.ru/users/NorthernEyes" class="author-info__nickname" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_bottom&#39;, &#39;profile&#39;, &#39;NorthernEyes&#39;);}">@NorthernEyes</a>

        <div class="karma__widjet voting-wjt voting-wjt_small js-karma  " title="Карма пользователя">


          <div class="voting-wjt__counter js-karma-mark voting-wjt__counter_positive " title="8 голосов">
            <div class="voting-wjt__label">карма</div>
            <div class="voting-wjt__counter-score js-karma_num">6,0</div>
          </div>

        </div>

        <div class="user-rating" title="Рейтинг пользователя">
          <span class="user-rating__label">рейтинг</span>
          <span class="user-rating__value">0,0</span>
        </div>

      </div>


    </div>
  </div>

        </div>
          

    <div class="similar-posts">
      <h2 class="similar-posts__title">Похожие публикации</h2>

      <ul class="content-list content-list_posts">
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+37</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/254955/">Морфологическая обработка изображений. Лекции от Яндекса</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">22,3k</span>
                  <span class="inline-list__item favorites-count">226</span>
                  <span class="inline-list__item comments-count">7</span>
                </span>
              </div>
            </div>
          </li>
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+45</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/254249/">Основы пространственной и частотной обработки изображений. Лекции от Яндекса</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">35,3k</span>
                  <span class="inline-list__item favorites-count">351</span>
                  <span class="inline-list__item comments-count">9</span>
                </span>
              </div>
            </div>
          </li>
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+18</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/172231/">Обработка изображений разреженными масками</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">15,7k</span>
                  <span class="inline-list__item favorites-count">78</span>
                  <span class="inline-list__item comments-count">45</span>
                </span>
              </div>
            </div>
          </li>
      </ul>
    </div>


            <div class="html_banner_wrap ">
      <!--  AdRiver code START. Type:AjaxJS Site: habrahabr PZ: 0 BN: 13 -->
      <div class="html_banner" id="adriver_banner_1109509440">
        <span class="html_banner_text">Реклама помогает поддерживать и&nbsp;развивать наши сервисы<br><br><a href="https://habrahabr.ru/adblock/" class="xyz_wrapper_button" target="_blank">Подробнее</a></span>
      </div>
      <a href="https://special.habrahabr.ru/advertising/" class="firskill__label">Спецпроект</a>

      <script type="text/javascript">
        function loadAdriverBanner(){
          var keyword = '';
          var custom = [];
          custom[7] = ar_duo1;

          if (typeof crtg_content !== 'undefined' && crtg_content) { keyword = crtg_content; }
           custom[1] = 'h_image_processing';  custom[2] = 'f_develop'; 

          if ( typeof(adriver) !== 'undefined'){
            new adriver("adriver_banner_1109509440", {sid:176776, bt:52, bn:13, custom: custom, keyword: keyword})
          }
        }
      </script>
    </div>

        

  <div class="similar-posts similar-posts_full">
    <h2 class="similar-posts__title_wrap">
      <span class="similar-posts__title">Самое читаемое</span>
        <span class="similar-posts__flow">
          <a href="https://habrahabr.ru/flows/develop/" class="similar-posts__flow-link">Разработка</a>
        </span>
    </h2>
    <div class="live-broadcast__tabs tabs" id="broadcast_tabs_posts">

      <ul class="tabs__menu tabs__menu_posts menu menu_inline">
        <li class="menu__item active"><a href="https://habrahabr.ru/post/139428/#broadcast_posts_now" class="menu__item-tab">Сейчас</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/139428/#broadcast_posts_today" class="menu__item-tab">Сутки</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/139428/#broadcast_posts_week" class="menu__item-tab">Неделя</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/139428/#broadcast_posts_month" class="menu__item-tab">Месяц</a></li>
      </ul>

        <div class="tabs__content tabs__content_reading" id="broadcast_posts_now" style="display: block;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+48</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317802/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">«Полезняшки» или «Реестр Windows как платформа»</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">10k</span>
                        <span class="inline-list__item favorites-count">166</span>
                        <span class="inline-list__item comments-count">28</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+8</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317810/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Отправка электронной почты в формате HTML</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">4,9k</span>
                        <span class="inline-list__item favorites-count">47</span>
                        <span class="inline-list__item comments-count">19</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+19</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/kaspersky/blog/317794/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Security Week 50: социализация криптолокеров, аудит OpenVPN, уязвимость в ядре Linux</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">5,3k</span>
                        <span class="inline-list__item favorites-count">18</span>
                        <span class="inline-list__item comments-count">6</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+18</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317796/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Создание инструментов для исследования NES-игр</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">4,2k</span>
                        <span class="inline-list__item favorites-count">22</span>
                        <span class="inline-list__item comments-count">7</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+11</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317816/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Проект CallSharp: I/O Call Instrumentation на платформе .NET</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">1,7k</span>
                        <span class="inline-list__item favorites-count">11</span>
                        <span class="inline-list__item comments-count">2</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_today" style="display: none;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+48</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317802/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">«Полезняшки» или «Реестр Windows как платформа»</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">10k</span>
                        <span class="inline-list__item favorites-count">166</span>
                        <span class="inline-list__item comments-count">28</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+48</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317732/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Chatbot на базе рекуррентной нейронной сети своими руками за 1 вечер/6$ и ~ 100 строчек кода</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">14,4k</span>
                        <span class="inline-list__item favorites-count">207</span>
                        <span class="inline-list__item comments-count">10</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+9</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317780/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Взлом без взлома или семь способов найти утечку информации ресурса</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">6,8k</span>
                        <span class="inline-list__item favorites-count">115</span>
                        <span class="inline-list__item comments-count">3</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+65</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317720/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Экзотичные заголовки HTTP</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">13k</span>
                        <span class="inline-list__item favorites-count">273</span>
                        <span class="inline-list__item comments-count">29</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+19</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/kaspersky/blog/317794/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Security Week 50: социализация криптолокеров, аудит OpenVPN, уязвимость в ядре Linux</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">5,3k</span>
                        <span class="inline-list__item favorites-count">18</span>
                        <span class="inline-list__item comments-count">6</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_week" style="display: none;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+7</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317306/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Взлом «админки» роутера</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">31,1k</span>
                        <span class="inline-list__item favorites-count">333</span>
                        <span class="inline-list__item comments-count">36</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+105</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/yandex/blog/317626/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Яндекс использовал нейросеть и научился прогнозировать осадки с точностью до минут</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">21k</span>
                        <span class="inline-list__item favorites-count">83</span>
                        <span class="inline-list__item comments-count">72</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+24</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317300/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">В C++17 до сих пор нет нормальных многомерных массивов, которые были в Fortran начиная с Fortran 90</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">20,5k</span>
                        <span class="inline-list__item favorites-count">79</span>
                        <span class="inline-list__item comments-count">225</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+61</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/317688/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Как я в одиночку сделал игру и выводы</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">19,1k</span>
                        <span class="inline-list__item favorites-count">92</span>
                        <span class="inline-list__item comments-count">46</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+39</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/kingservers/blog/317364/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Представлено ядро Linux 4.9</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">18,5k</span>
                        <span class="inline-list__item favorites-count">29</span>
                        <span class="inline-list__item comments-count">20</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_month" style="display: none;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+118</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/316296/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Как я взломал свою ip-камеру и нашел там бекдор</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">58,5k</span>
                        <span class="inline-list__item favorites-count">215</span>
                        <span class="inline-list__item comments-count">57</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+107</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/316814/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Самая нужная программа на свете</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">56k</span>
                        <span class="inline-list__item favorites-count">294</span>
                        <span class="inline-list__item comments-count">284</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+46</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/edison/blog/315668/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Код, за который мне до сих пор стыдно</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">51,1k</span>
                        <span class="inline-list__item favorites-count">74</span>
                        <span class="inline-list__item comments-count">296</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+18</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/ruvds/blog/315572/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Какой язык программирования стоит выучить первым? (ʇdıɹɔsɐʌɐɾ: ɯǝʚɯо ņıqнqvиʚɐdu)</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">47,8k</span>
                        <span class="inline-list__item favorites-count">203</span>
                        <span class="inline-list__item comments-count">434</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+78</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/ruvds/blog/316132/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Консоль разработчика Google Chrome: десять неочевидных полезностей</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">47,7k</span>
                        <span class="inline-list__item favorites-count">872</span>
                        <span class="inline-list__item comments-count">58</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
    </div>
  </div>




      </div>
    </div>
  </div>

  <div class="column-wrapper column-wrapper_comments">
    <div class="content_left">
          <div class="comments_list " id="comments">
    <h2 class="title ">
      Комментарии (<span id="comments_count">27</span>)
      
    </h2>

    

    

    <ul id="comments-list">
      
  <li class="comment_item" id="comment_4658249">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658249">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="int_index">
            <a href="https://habrahabr.ru/users/int_index/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/df713347b26d1497b94c3aff65ed5920_small.png" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/int_index/" class="comment-item__username">int_index</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 13:55
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658249" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658249" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  voting-wjt__counter_negative">
                <span class="voting-wjt__counter-score js-score" title="Всего 20: ↑7 и ↓13">–6</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format bad bad5">
          <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/5ef6cc7dbc3df1008bfc4745ef129ac3.jpg" alt="image"><br>
Простите, не удержался.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658249">
      
      
    </ul>

  </li>

  <li class="comment_item" id="comment_4658303">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658303">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="SergeyGrigorev">
            <a href="https://habrahabr.ru/users/SergeyGrigorev/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/f987405dc59c6e0f5e70b741c8d42d41_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/SergeyGrigorev/" class="comment-item__username">SergeyGrigorev</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 14:21
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658303" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658303" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  voting-wjt__counter_negative">
                <span class="voting-wjt__counter-score js-score" title="Всего 6: ↑1 и ↓5">–4</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format bad bad4">
          8 сек. это слишком много. Мне кажется, у вас потоки борятся за ресурсы. Во время работы алгоритма, какая нагрузка на процессоры, случайно не 100%?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658303">
      
  <li class="comment_item" id="comment_4658321">
    
    <span class="parent_id" data-parent_id="4658303"></span>

    <div class="comment_body ">
        <div class="author_banned">НЛО прилетело и опубликовало эту надпись здесь</div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658321">
      
  <li class="comment_item" id="comment_4658332">
    
    <span class="parent_id" data-parent_id="4658321"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658332">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="SergeyGrigorev">
            <a href="https://habrahabr.ru/users/SergeyGrigorev/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/f987405dc59c6e0f5e70b741c8d42d41_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/SergeyGrigorev/" class="comment-item__username">SergeyGrigorev</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 14:32
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658332" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4658332" data-parent_id="4658321" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4658321" class="icon_comment-parent js-comment_parent" data-id="4658332" data-parent_id="4658321" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658332" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  voting-wjt__counter_negative">
                <span class="voting-wjt__counter-score js-score" title="Всего 3: ↑1 и ↓2">–1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format bad bad1">
          Упс, действительно (:
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658332">
      
      
    </ul>

  </li>

  <li class="comment_item" id="comment_4658405">
    
    <span class="parent_id" data-parent_id="4658321"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658405">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="AxisPod">
            <a href="https://habrahabr.ru/users/AxisPod/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/7fdbabbef7d1d195c6ad3107aac1cd6b_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/AxisPod/" class="comment-item__username">AxisPod</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 15:15
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658405" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4658405" data-parent_id="4658321" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4658321" class="icon_comment-parent js-comment_parent" data-id="4658405" data-parent_id="4658321" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658405" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          125 кадров в секунду, т.е. не более 5 потоков осилит. GPU бы к такому привлечь.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658405">
      
  <li class="comment_item" id="comment_4658522">
    
    <span class="parent_id" data-parent_id="4658405"></span>

    <div class="comment_body ">
        <div class="author_banned">НЛО прилетело и опубликовало эту надпись здесь</div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658522">
      
  <li class="comment_item" id="comment_4658543">
    
    <span class="parent_id" data-parent_id="4658522"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658543">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="stmuxa">
            <a href="https://habrahabr.ru/users/stmuxa/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_pink"></span>
            </a>
            <a href="https://habrahabr.ru/users/stmuxa/" class="comment-item__username">stmuxa</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 16:29
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658543" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4658543" data-parent_id="4658522" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4658522" class="icon_comment-parent js-comment_parent" data-id="4658543" data-parent_id="4658522" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658543" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          8 мс — это очень долго.<br>
мы за это время успеваем FullHD кадр прогнать через несколько намного более тяжелых алгоритмов. (GPU)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658543">
      
  <li class="comment_item" id="comment_4659041">
    
    <span class="parent_id" data-parent_id="4658543"></span>

    <div class="comment_body ">
        <div class="author_banned">НЛО прилетело и опубликовало эту надпись здесь</div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659041">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_4658414">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658414">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 15:21
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658414" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658414" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 16: ↑16 и ↓0">+16</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Эта статья — отличный пример неправильного использования многопоточности.<br>
Вычислений почти нет, в основном работа с памтятью. Вот код, который на на 15% быстрее и выполняется в одном потоке:<br>
<pre><code class="С++ hljs hsp">void contrastFilter(unsigned char * imageData, size_t dataSize, <span class="hljs-keyword">int</span> contrast) <span class="hljs-comment">// contrast (256 - normal)</span>
{
  unsigned char buf[<span class="hljs-number">256</span>]<span class="hljs-comment">;</span>
  unsigned <span class="hljs-keyword">int</span> midBright = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
  <span class="hljs-keyword">for</span> (size_t i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; dataSize; i += 3)</span>
    midBright += imageData[i] * <span class="hljs-number">77</span> + imageData[i + <span class="hljs-number">1</span>] * <span class="hljs-number">150</span> + imageData[i + <span class="hljs-number">2</span>] * <span class="hljs-number">29</span><span class="hljs-comment">;</span>
  midBright /= (<span class="hljs-number">256</span> * dataSize / <span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
  <span class="hljs-keyword">for</span> (size_t i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 256; i++)</span>
  {
    <span class="hljs-keyword">int</span> a = (((i - midBright) * contrast) &gt;&gt; <span class="hljs-number">8</span>) + midBright<span class="hljs-comment">;</span>
    <span class="hljs-keyword">if</span> (a &lt; <span class="hljs-number">0</span>) buf[i] = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a &gt; <span class="hljs-number">255</span>) buf[i] = <span class="hljs-number">255</span><span class="hljs-comment">;</span>
        <span class="hljs-keyword">else</span> buf[i] = a<span class="hljs-comment">;</span>
  }
  <span class="hljs-keyword">for</span> (size_t i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; dataSize; i++)</span>
    imageData[i] = buf[imageData[i]]<span class="hljs-comment">;</span>
}
</code></pre>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658414">
      
  <li class="comment_item" id="comment_4659037">
    
    <span class="parent_id" data-parent_id="4658414"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4659037">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="iago">
            <a href="https://habrahabr.ru/users/iago/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/856e16e4d19aa27aa22f7c83014d32ad_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/iago/" class="comment-item__username">iago</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 20:22
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4659037" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4659037" data-parent_id="4658414" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4658414" class="icon_comment-parent js-comment_parent" data-id="4659037" data-parent_id="4658414" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4659037" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ничего себе вы уместили. А можете показать ошибки автора? У меня недостаточно опыта, чтобы самому их найти, но очень интересно. И ещё вопрос — почему и у вас и у автора коэффициенты <pre><code class="hljs inform7">midBright += imageData<span class="hljs-comment">[i]</span> * 77 + imageData<span class="hljs-comment">[i + 1]</span> * 150 + imageData<span class="hljs-comment">[i + 2]</span> * 29;</code></pre> разные? Потому что глаз воспринимает по-разному? И последнее — в одном случае вы умножаете на 256 <pre><code class="hljs basic"><span class="hljs-symbol">256 </span>* dataSize</code></pre>, а в другом делаете так <pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span> <span class="hljs-number">8</span></code></pre>. Не ухудшает ли это читаемость кода?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659037">
      
  <li class="comment_item" id="comment_4659069">
    
    <span class="parent_id" data-parent_id="4659037"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4659069">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 20:50
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4659069" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4659069" data-parent_id="4659037" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4659037" class="icon_comment-parent js-comment_parent" data-id="4659069" data-parent_id="4659037" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4659069" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Основная ошибка автора — использование распараллеливания там, где это не нужно. Вычислений почти нет, обращений к памяти много. Основное время процессор будет ждать передачи дынных, на сколько потоков это не раскидывай — лучше не будет.<br>
<br>
Вместо 1.0 максимальная яркость принята за 256, поэтому константы почти такие же как у автора.<br>
77 / 256 ~= 0.3<br>
150 / 256 ~= 0.586<br>
29 / 256 ~= 0.113<br>
<br>
По поводу умножения и сдвига на 8 (деления на 256): да, константы для операций с фиксированной точкой могут показаться странными.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659069">
      
  <li class="comment_item" id="comment_4659887">
    
    <span class="parent_id" data-parent_id="4659069"></span>

    <div class="comment_body ">
        <div class="author_banned">НЛО прилетело и опубликовало эту надпись здесь</div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659887">
      
  <li class="comment_item" id="comment_4660958">
    
    <span class="parent_id" data-parent_id="4659887"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4660958">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="iago">
            <a href="https://habrahabr.ru/users/iago/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/856e16e4d19aa27aa22f7c83014d32ad_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/iago/" class="comment-item__username">iago</a>
          </span>

          <time class="comment-item__time_published">
             6 марта 2012 в 18:56
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4660958" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4660958" data-parent_id="4659887" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4659887" class="icon_comment-parent js-comment_parent" data-id="4660958" data-parent_id="4659887" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4660958" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да, так и есть. Я обычно пишу x / 4, а не x &gt;&gt; 2, т.к. всё же деление воспринимается более интуитивно, а компилятор сам решит как поступить. Просто о том, что значит / 4, мой мозг узнал в 1 классе, а про &gt;&gt; 2 — лет 6 назад, так что ему всё же быстрее понять / 4 — не выходит из кэша, а за &gt;&gt; 2 надо лезть в оперативку :)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4660958">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_4659092">
    
    <span class="parent_id" data-parent_id="4659037"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4659092">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 21:13
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4659092" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4659092" data-parent_id="4659037" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4659037" class="icon_comment-parent js-comment_parent" data-id="4659092" data-parent_id="4659037" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4659092" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          ещё по поводу ошибок:<br>
<br>
int b[L];<br>
палитру лучше было сделать из (unsigned char)<br>
<br>
lAB += (int)(valueR * 0.299 + valueG * 0.587 + valueB * 0.114);<br>
при округлении в этом месте будет теряться много информации, например, если весь буфер будет заполнен синим цветом с яркостью 6, то переменная lAB, которая средняя яркость всех пикселей, будет равна 0.<br>
<br>
ну и ещё много мелочей, вроде «return 0;» в функции которая возвращает void, кучи лишних приведений типов и ни о чём не говорящих названий переменных.<br>
<br>
(у поста уже 17 плюсов, кто все эти люди? :) )
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659092">
      
  <li class="comment_item" id="comment_4659157">
    
    <span class="parent_id" data-parent_id="4659092"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4659157">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="stmuxa">
            <a href="https://habrahabr.ru/users/stmuxa/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_pink"></span>
            </a>
            <a href="https://habrahabr.ru/users/stmuxa/" class="comment-item__username">stmuxa</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 22:11
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4659157" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4659157" data-parent_id="4659092" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4659092" class="icon_comment-parent js-comment_parent" data-id="4659157" data-parent_id="4659092" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4659157" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          меня еще смущает вот эта строка:<br>
int correction = _correction;<br>
зачем?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659157">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_4659614">
    
    <span class="parent_id" data-parent_id="4659037"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4659614">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Maratyszcza">
            <a href="https://habrahabr.ru/users/Maratyszcza/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_pink"></span>
            </a>
            <a href="https://habrahabr.ru/users/Maratyszcza/" class="comment-item__username">Maratyszcza</a>
          </span>

          <time class="comment-item__time_published">
             6 марта 2012 в 05:42
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4659614" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4659614" data-parent_id="4659037" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4659037" class="icon_comment-parent js-comment_parent" data-id="4659614" data-parent_id="4659037" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4659614" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  voting-wjt__counter_negative">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑0 и ↓1">–1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format bad bad1">
          Алгоритм распаралелен неправильно, но проблема здесь не с забиванием шины памяти. Даже на Sandy Bridge в идеально оптимизированном коде на одном потоке можно получить максимум 75% пропускной способности. А невекторизованным кодом забить шину памяти ещё сложнее. Проблема с кодом у автора поста в том, что разные потоки пишут в одни и те же строки кэша. Когда один из потоков хочет записать что-то в память, он проверяет, не закэширована ли эта строка в кэше другого процессора. Т.к. все потоки пишут в одни и те же строки кэша, скорее всего обнаружится, что эту строку кэша уже изменил другой поток. В результате будет отправлен запрос RFO (Request for ownership) к другому ядру процессора, чтобы оно прислало изменённую строку кэша. Попутно контроллер памяти отследит RFO запрос, и запишет изменённую строку кэша обратно в память (это нужно чтобы правильно работал MESI алгоритм). Всё это, естественно, очень не быстро, и главное, превращает код в по сути однопоточный.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4659614">
      
  <li class="comment_item" id="comment_4660907">
    
    <span class="parent_id" data-parent_id="4659614"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4660907">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="B08AH">
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_green"></span>
            </a>
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__username">B08AH</a>
          </span>

          <time class="comment-item__time_published">
             6 марта 2012 в 18:32
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4660907" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4660907" data-parent_id="4659614" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4659614" class="icon_comment-parent js-comment_parent" data-id="4660907" data-parent_id="4659614" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4660907" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          я правильный вывод сделал, что если параллелить, то не каждый третий пиксель в другой поток, а лучше разбить кадр горизонтальными линиями на n частей/потоков? 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4660907">
      
  <li class="comment_item" id="comment_4660994">
    
    <span class="parent_id" data-parent_id="4660907"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4660994">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Maratyszcza">
            <a href="https://habrahabr.ru/users/Maratyszcza/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_pink"></span>
            </a>
            <a href="https://habrahabr.ru/users/Maratyszcza/" class="comment-item__username">Maratyszcza</a>
          </span>

          <time class="comment-item__time_published">
             6 марта 2012 в 19:17
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4660994" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4660994" data-parent_id="4660907" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4660907" class="icon_comment-parent js-comment_parent" data-id="4660994" data-parent_id="4660907" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4660994" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Правильный. Только линии должны быть кратны размеру кэш-строки (можно считать, что 128 байт)
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4660994">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_4661891">
    
    <span class="parent_id" data-parent_id="4658414"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4661891">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="B08AH">
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_green"></span>
            </a>
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__username">B08AH</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 08:45
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4661891" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4661891" data-parent_id="4658414" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4658414" class="icon_comment-parent js-comment_parent" data-id="4661891" data-parent_id="4658414" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4661891" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          еще одна очевидная оптимизация первого цикла. +5% буст<br>
<br>
<pre><code class="C hljs">	<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> midBright = <span class="hljs-number">0</span>, midBright1 = <span class="hljs-number">0</span>, midBright2 = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; dataSize; )
	{
		midBright += imageData[i++];
		midBright1 += imageData[i++];
		midBright2 += imageData[i++];
	}
		midBright = (midBright * <span class="hljs-number">77</span> + midBright1 * <span class="hljs-number">150</span> + midBright2 * <span class="hljs-number">29</span>) / (<span class="hljs-number">256</span> * dataSize / <span class="hljs-number">3</span>);
</code></pre>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4661891">
      
  <li class="comment_item" id="comment_4661894">
    
    <span class="parent_id" data-parent_id="4661891"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4661894">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="B08AH">
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_green"></span>
            </a>
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__username">B08AH</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 08:47
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4661894" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4661894" data-parent_id="4661891" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4661891" class="icon_comment-parent js-comment_parent" data-id="4661894" data-parent_id="4661891" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4661894" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          кстати можно даже вернуть вычисления с двойной точностью без потерь производительности
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4661894">
      
      
    </ul>

  </li>

  <li class="comment_item" id="comment_4662180">
    
    <span class="parent_id" data-parent_id="4661891"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4662180">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 11:45
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4662180" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4662180" data-parent_id="4661891" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4661891" class="icon_comment-parent js-comment_parent" data-id="4662180" data-parent_id="4661891" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4662180" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Только сначала лучше померить, действительно ли это скомпилируется в более быстрый код. У меня было несколько идей по поводу второго цикла: пробовал производить вычисления вместо обращения к палитре, пробовал считать по 4 байта и писать сразу dword, пробовал разносить чтение и запись на 1024 байта, пробовал вручную разворачивать цикл, в итоге оставил самый простой вариант, как самый быстрый.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4662180">
      
  <li class="comment_item" id="comment_4662332">
    
    <span class="parent_id" data-parent_id="4662180"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4662332">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="B08AH">
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_green"></span>
            </a>
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__username">B08AH</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 12:59
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4662332" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4662332" data-parent_id="4662180" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4662180" class="icon_comment-parent js-comment_parent" data-id="4662332" data-parent_id="4662180" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4662332" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          кстати в имеющемся виде 255 максимальное значение субпикселя. в кадре fullHD их 2млн штук каждого цвета. итого после финального умножения 32хбитный инт переполняется. <br>
<br>
то бишь надо либо сначала делить, а потом умножать, но так погрешность выше.<br>
либо long int надо брать, ну либо возвращаться к double, как у автора.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4662332">
      
  <li class="comment_item" id="comment_4662351">
    
    <span class="parent_id" data-parent_id="4662332"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4662351">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 13:09
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4662351" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4662351" data-parent_id="4662332" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4662332" class="icon_comment-parent js-comment_parent" data-id="4662351" data-parent_id="4662332" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4662351" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Не переполнится, я посчитал, перед тем как делать.<br>
1920 * 1080 * 256 = 0x 1FA4 0000<br>
<br>
Размер long int сейчас обычно такой же как и int, возможно, вы имели в виду long long int.<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4662351">
      
  <li class="comment_item" id="comment_4662355">
    
    <span class="parent_id" data-parent_id="4662351"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4662355">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="B08AH">
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_green"></span>
            </a>
            <a href="https://habrahabr.ru/users/B08AH/" class="comment-item__username">B08AH</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 13:12
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4662355" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4662355" data-parent_id="4662351" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4662351" class="icon_comment-parent js-comment_parent" data-id="4662355" data-parent_id="4662351" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4662355" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          это число потом еще умножается на 150!<br>
<br>
ЗЫ я имел ввиду int64<br>

        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4662355">
      
  <li class="comment_item" id="comment_4662373">
    
    <span class="parent_id" data-parent_id="4662355"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4662373">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 13:16
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4662373" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4662373" data-parent_id="4662355" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4662355" class="icon_comment-parent js-comment_parent" data-id="4662373" data-parent_id="4662355" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4662373" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          а да, точно, спасибо :) <br>
тогда uint64_t
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4662373">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_4662183">
    
    <span class="parent_id" data-parent_id="4661891"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4662183">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="Imp5">
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/cb53df68ece39f8a2b4df1c865d586ef_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/Imp5/" class="comment-item__username">Imp5</a>
          </span>

          <time class="comment-item__time_published">
             7 марта 2012 в 11:47
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4662183" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


              <span class="icon_comment-tree js-comment_tree" data-id="4662183" data-parent_id="4661891" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/post/139428/#comment_4661891" class="icon_comment-parent js-comment_parent" data-id="4662183" data-parent_id="4661891" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4662183" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А да, не заметил сразу, что умножения вынесены за цикл. Да, так будет быстрее.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4662183">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_4658945">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="4658945">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" data-user-login="SiGMan">
            <a href="https://habrahabr.ru/users/SiGMan/" class="comment-item__avatar">
                <img src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/79d2ce79e8dfc1a8a37d76a7b68eb09b_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/SiGMan/" class="comment-item__username">SiGMan</a>
          </span>

          <time class="comment-item__time_published">
             5 марта 2012 в 19:05
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/post/139428/#comment_4658945" class="icon_comment-anchor" title="Ссылка на комментарий"></a>


            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_4658945" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только зарегистрированные пользователи"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только зарегистрированные пользователи"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Данный алгоритм не учитывает нелинейность исходного цветового пространства. Так делать нельзя.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_4658945">
      
      
    </ul>

  </li>

      
    </ul>

  </div>


                <p class="for_users_only_msg">Только зарегистрированные пользователи могут оставлять комментарии. <a href="https://habrahabr.ru/auth/login/">Войдите</a>, пожалуйста.</p>


      
<form action="https://habrahabr.ru/json/favorites/" method="post" id="edit_tags_form" class="hidden">
  <input type="hidden" name="action" value="add">
  <input type="hidden" name="ti" value="0">
  <input type="hidden" name="tt" value="0">
  <label>Пометьте топик понятными вам метками, если хотите</label>
  <input type="text" name="tags_string" class="tags_string" autocomplete="off">
  <div class="description">Метки лучше разделять запятой. Например: <i>общение, социальные сети, myspace.com, подростки, мердок</i></div>
  <input type="submit" value="Сохранить" class="submit"> или <a href="https://habrahabr.ru/post/139428/#" class="close" onclick="return close_edit_tags()">закрыть</a>
</form>

    </div>
    <div class="sidebar_right js-sidebar_right">
          

  <div class="live-broadcast live-broadcast_habrahabr">
    <h2 class="live-broadcast__title">Что обсуждают</h2>
    <div class="live-broadcast__tabs tabs" id="broadcast_tabs_comments">
      <ul class="tabs__menu tabs__menu_comments menu menu_inline">
        <li class="menu__item active"><a href="https://habrahabr.ru/post/139428/#broadcast_comments_now" class="menu__item-tab">Сейчас</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/139428/#broadcast_comments_yesterday" class="menu__item-tab">Вчера</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/139428/#broadcast_comments_week" class="menu__item-tab">Неделя</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/post/139428/#broadcast_comments_month" class="menu__item-tab">Месяц</a></li>
      </ul>

        <div class="tabs__content" id="broadcast_comments_now" style="display: block;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317818/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Задание с экзамена по защите информации</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317818/#comments" class="content-list__item-counter icon_comments">11</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/smartengines/blog/317672/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Оптимизация кода для платформы Эльбрус на простых примерах</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/smartengines/blog/317672/#comments" class="content-list__item-counter icon_comments">65</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317712/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Логика сознания. Часть 9. Искусственные нейронные сети и миниколонки реальной коры</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317712/#comments" class="content-list__item-counter icon_comments">55</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317784/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Боремся с нагрузками в HPE Vertica</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317784/#comments" class="content-list__item-counter icon_comments">3</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317630/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Я отказался от PGP</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317630/#comments" class="content-list__item-counter icon_comments">76</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_comments_yesterday" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317728/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Кнопка или ссылка?</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317728/#comments" class="content-list__item-counter icon_comments">72</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317712/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Логика сознания. Часть 9. Искусственные нейронные сети и миниколонки реальной коры</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317712/#comments" class="content-list__item-counter icon_comments">55</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317720/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Экзотичные заголовки HTTP</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317720/#comments" class="content-list__item-counter icon_comments">29</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317802/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">«Полезняшки» или «Реестр Windows как платформа»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317802/#comments" class="content-list__item-counter icon_comments">28</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317708/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Landing Page как замена всего сайта</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317708/#comments" class="content-list__item-counter icon_comments">25</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_comments_week" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317300/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">В C++17 до сих пор нет нормальных многомерных массивов, которые были в Fortran начиная с Fortran 90</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317300/#comments" class="content-list__item-counter icon_comments">225</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/planado/blog/317520/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">«Нам проще на листочках»: почему в российских компаниях проваливаются проекты по автоматизации</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/planado/blog/317520/#comments" class="content-list__item-counter icon_comments">181</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/317312/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Идеальный программист. Часть 1</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317312/#comments" class="content-list__item-counter icon_comments">180</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/vivaldi/blog/317676/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Финальная версия Vivaldi 1.6 — работаем с вкладками</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/vivaldi/blog/317676/#comments" class="content-list__item-counter icon_comments">127</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/JetBrains/blog/317716/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Gogland: Новая Go IDE от JetBrains</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/JetBrains/blog/317716/#comments" class="content-list__item-counter icon_comments">113</a>
                </li>
            </ul>
        </div>
        <div class="tabs__content" id="broadcast_comments_month" style="display: none;">
            <ul class="content-list content-list_comments">
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/mailru/blog/317084/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Накануне дня рождения первой женщины-программиста: моя история</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/mailru/blog/317084/#comments" class="content-list__item-counter icon_comments">561</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/ruvds/blog/315572/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Какой язык программирования стоит выучить первым? (ʇdıɹɔsɐʌɐɾ: ɯǝʚɯо ņıqнqvиʚɐdu)</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/ruvds/blog/315572/#comments" class="content-list__item-counter icon_comments">434</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/smartprogress/blog/315428/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Первый частный город в России, быть или не быть? Часть 1</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/smartprogress/blog/315428/#comments" class="content-list__item-counter icon_comments">338</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/company/edison/blog/315668/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Код, за который мне до сих пор стыдно</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/edison/blog/315668/#comments" class="content-list__item-counter icon_comments">296</a>
                </li>
                <li class="content-list__item">
                  <a href="https://habrahabr.ru/post/316506/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;comment&#39;); }" class="content-list__item-link">Блеск и нищета php. Эволюция языка от 4.x к 7.1</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/316506/#comments" class="content-list__item-counter icon_comments">286</a>
                </li>
            </ul>
        </div>
    </div>
  </div>

    </div>
  </div>

  <div class="column-wrapper column-wrapper_bottom column-wrapper_bordered">
    <div class="content_left">
      

  <div class="live-broadcast live-broadcast_feed">
    <h2 class="live-broadcast__title live-broadcast__title_feed">Интересные публикации</h2>

    <div class="dropdown dropdown_broadcast">
      <button type="button" class="btn btn_outline_grey btn_large icon_cog dropdown-toggle" data-toggle="dropdown" tabindex="0" aria-expanded="false">
      </button>
      <div class="dropdown-container">
        <ul class="n-dropdown-menu n-dropdown-menu_feed" id="filter">
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="habrahabr" checked="">
              <span class="checkbox__label">Хабрахабр</span>
            </label>
          </li>
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="geektimes" checked="">
              <span class="checkbox__label">Гиктаймс</span>
            </label>
          </li>
        </ul>
      </div>
    </div>

    <div class="live-broadcast__content">
      <ul class="content-list content-list_feed" id="list" data-posts-count="5">
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/317818/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Задание с экзамена по защите информации</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317818/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">10</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/317816/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Проект CallSharp: I/O Call Instrumentation на платформе .NET</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317816/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">2</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/317810/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Отправка электронной почты в формате HTML</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317810/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">19</a>
          </li>
          <li class="content-list__item content-list__item_geektimes" data-type="geektimes">
            <a href="https://geektimes.ru/post/283796/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">НАСА запустило спутники с ракеты, запущенной с самолёта</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/283796/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">61</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/317796/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Создание инструментов для исследования NES-игр</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317796/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">7</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/317802/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">«Полезняшки» или «Реестр Windows как платформа»</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/317802/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">28</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/283800/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Сообщается о потере одного из спутников системы ГЛОНАСС</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/283800/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">39</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/283788/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Акустика помещений: подготовка комнаты для домашнего кинотеатра</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/283788/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">34</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/283794/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Целый новый мир на краю Солнечной системы</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/283794/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">5</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/283792/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Операторы сотовой связи планируют отказаться от безлимитных интернет-тарифов</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/283792/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">246</a>
          </li>
      </ul>
    </div>
  </div>

    </div>

    <div class="sidebar_right">
        <div class="xyz_wrapper js-ad_sticky_bottom">
  <div class="xyz_wrapper_inner">
    <span class="xyz_wrapper_text">Реклама помогает поддерживать и&nbsp;развивать наши сервисы<br><br><a href="https://habrahabr.ru/adblock/" class="xyz_wrapper_button" target="_blank">Подробнее</a></span>
    <!-- Yandex.RTB R-A-149298-20 -->
    <div id="yandex_rtb_R-A-149298-20" style="background: #fff;"></div>
    <script type="text/javascript">
        (function(w, d, n, s, t) {
            w[n] = w[n] || [];
            w[n].push(function() {
                Ya.Context.AdvManager.render({
                    blockId: "R-A-149298-20",
                    renderTo: "yandex_rtb_R-A-149298-20",
                    async: true
                });
            });
            t = d.getElementsByTagName("script")[0];
            s = d.createElement("script");
            s.type = "text/javascript";
            s.src = "//an.yandex.ru/system/context.js";
            s.async = true;
            t.parentNode.insertBefore(s, t);
        })(this, this.document, "yandexContextAsyncCallbacks");
    </script>
  </div>
  <a href="https://special.habrahabr.ru/advertising/" class="firskill__label">Реклама</a>
</div>

    </div>
  </div>
  <script>
  window._yaparams = {'hubs':[], 'flow':'develop (Разработка)'};
  // hubs to GA
  _yaparams['hubs'].push('image_processing (Обработка изображений)');
</script>

      </div>
      <div class="layout__footer">
        <div class="footer_panel">
  <div id="footer">
    <dl>
      <dd><a href="https://habrahabr.ru/auth/login/">Войти</a></dd>
      <dd><a href="https://habrahabr.ru/auth/register/">Регистрация</a></dd>
    </dl>
    <dl>
      <dt>Разделы</dt>
      <dd><a href="https://habrahabr.ru/posts/top/">Публикации</a></dd>
      <dd><a href="https://habrahabr.ru/hubs/">Хабы</a></dd>
      <dd><a href="https://habrahabr.ru/companies/">Компании</a></dd>
      <dd><a href="https://habrahabr.ru/users/">Пользователи</a></dd>
      <dd><a href="https://toster.ru/?_aa=press_anykey">Q&amp;A</a></dd>
      <dd><a href="https://habrahabr.ru/sandbox/">Песочница</a></dd>

    </dl>
    <dl>
      <dt>Инфо</dt>
      <dd><a href="https://habrahabr.ru/info/about/">О сайте</a></dd>
      <dd><a href="https://habrahabr.ru/info/help/rules/">Правила</a></dd>
      <dd><a href="https://habrahabr.ru/info/help/">Помощь</a></dd>
      <dd><a href="https://habrahabr.ru/info/agreement/">Соглашение</a></dd>
    </dl>
    <dl>
      <dt>Услуги</dt>
      <dd><a href="https://special.habrahabr.ru/advertising/">Реклама</a></dd>
      <dd><a href="https://special.habrahabr.ru/corporate/">Тарифы</a></dd>
      <dd><a href="https://special.habrahabr.ru/content/">Контент</a></dd>
      <dd><a href="https://special.habrahabr.ru/workshops/">Семинары</a></dd>
    </dl>

    <dl>
      <dt>Разное</dt>
      <dd><a href="https://appmetrica.yandex.com/serve/240693928167260216?utm_source=HH_desktop&amp;utm_medium=button&amp;utm_campaign=appiOS" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;links&#39;, &#39;ios_app&#39;); }">iOS приложение</a></dd>
      <dd><a href="https://appmetrica.yandex.com/serve/745097116363323173?id=ru.habrahabr&amp;utm_source=HH_desktop&amp;utm_medium=button&amp;utm_campaign=appAndroid" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;links&#39;, &#39;android_app&#39;); }">Android приложение</a></dd>
      <dd><a href="https://special.habrahabr.ru/hello_startup/habrahabr/" target="_blank">Помощь стартапам</a></dd>
    </dl>

    <div class="copyright">
      <div class="about">
        <a href="https://tmtm.ru/">© TM</a>
        <br><br>
        <a href="https://habrahabr.ru/feedback/">Служба поддержки</a><br><br>
          <a href="https://m.habrahabr.ru/post/139428/?mobile=yes">Мобильная версия</a><br><br>
        <div class="social_accounts">
          <a href="https://twitter.com/habrahabr" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;twitter&#39;); }">
            <svg class="icon-svg icon-svg_twitter" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c-6.616 0-12-5.384-12-12s5.384-12 12-12 12 5.384 12 12-5.384 12-12 12zm0-22.909c-6.015 0-10.909 4.894-10.909 10.909s4.894 10.909 10.909 10.909 10.909-4.894 10.909-10.909-4.894-10.909-10.909-10.909zM18.04 8.253c-.445.197-.922.331-1.424.391.512-.307.904-.792 1.09-1.371-.479.284-1.009.49-1.574.601-.452-.481-1.096-.782-1.809-.782-1.369 0-2.479 1.109-2.479 2.479 0 .194.022.383.064.565-2.06-.104-3.887-1.091-5.109-2.59-.214.365-.336.792-.336 1.246 0 .86.437 1.619 1.103 2.063-.406-.013-.789-.124-1.123-.31v.031c0 1.201.854 2.203 1.989 2.431-.207.057-.427.087-.653.087-.159 0-.314-.015-.466-.045.315.985 1.231 1.702 2.316 1.721-.849.664-1.917 1.061-3.079 1.061-.2 0-.397-.012-.591-.035 1.095.704 2.398 1.114 3.799 1.114 4.559 0 7.052-3.777 7.052-7.053l-.008-.321c.484-.349.904-.785 1.237-1.283z"></path></svg>
          </a>
          <a href="https://www.facebook.com/habrahabr.ru" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;facebook&#39;); }">
            <svg class="icon-svg icon-svg_fb" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c-6.616 0-12-5.384-12-12s5.384-12 12-12 12 5.384 12 12-5.384 12-12 12zm0-22.909c-6.015 0-10.909 4.894-10.909 10.909s4.894 10.909 10.909 10.909 10.909-4.894 10.909-10.909-4.894-10.909-10.909-10.909zM14.727 8.798h-1.558c-.184 0-.389.242-.389.566v1.125h1.947v1.604h-1.948v4.816h-1.839v-4.816h-1.667v-1.604h1.668v-.944c0-1.354.939-2.455 2.229-2.455h1.558v1.707z"></path></svg>
          </a>
          <a href="https://vk.com/habr" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;vkontakte&#39;); }">
            <svg class="icon-svg icon-svg_vk" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c-6.616 0-12-5.384-12-12s5.384-12 12-12 12 5.384 12 12-5.384 12-12 12zm0-22.909c-6.015 0-10.909 4.894-10.909 10.909s4.894 10.909 10.909 10.909 10.909-4.894 10.909-10.909-4.894-10.909-10.909-10.909zM16.33 11.926s1.725-2.433 1.896-3.232c.057-.286-.069-.445-.365-.445h-1.497c-.343 0-.468.148-.572.365 0 0-.809 1.724-1.793 2.81-.316.351-.477.457-.651.457-.141 0-.205-.118-.205-.434v-2.776c0-.388-.046-.503-.365-.503h-2.399c-.183 0-.297.106-.297.251 0 .365.56.448.56 1.439v2.044c0 .411-.023.572-.217.572-.514 0-1.737-1.771-2.422-3.781-.137-.41-.286-.525-.674-.525h-1.496c-.217 0-.377.148-.377.365 0 .399.468 2.251 2.307 4.729 1.234 1.668 2.856 2.57 4.318 2.57.891 0 1.108-.148 1.108-.526v-1.28c0-.32.125-.457.309-.457.205 0 .568.067 1.416.902 1.005.96 1.073 1.359 1.622 1.359h1.679c.171 0 .332-.08.332-.365 0-.377-.491-1.051-1.245-1.85-.309-.411-.811-.856-.971-1.063-.229-.239-.16-.376 0-.627z"></path></svg>
          </a>
          <a href="https://telegram.me/habr_ru" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;telegram&#39;); }">
            <svg class="icon-svg icon-svg_telegram" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12.048.002c-6.616 0-12 5.384-12 12s5.384 12 12 12 12-5.384 12-12-5.384-12-12-12zm0 22.909c-6.015 0-10.909-4.894-10.909-10.909s4.894-10.909 10.909-10.909 10.909 4.894 10.909 10.909c0 6.015-4.894 10.909-10.909 10.909zM10.093 16.753c0 .164.092.209.219.094l1.891-1.697-2.11-1.092v2.696zM17.816 7.116c-.228.081-11.491 4.049-11.712 4.127-.189.067-.23.229-.007.319l2.518 1.009 1.493.598s7.189-5.28 7.287-5.351c.098-.072.211.063.14.14l-5.222 5.648-.3.334.397.214 3.304 1.779c.192.104.443.017.499-.223.065-.283 1.887-8.134 1.928-8.308.052-.226-.097-.364-.325-.285z"></path></svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
      </div>
      <a href="https://habrahabr.ru/post/139428/#" class="layout__elevator" id="scroll_to_top" title="Наверх" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;navigation_button&#39;, &#39;down&#39;, &#39;https://habrahabr.ru/post/139428/&#39;); }">
        <svg class="icon-svg icon-svg_scroll-up" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm8.412 19.523c-.517.512-1.355.512-1.872 0L16 13.516l-6.54 6.01c-.518.51-1.356.51-1.873 0-.516-.513-.517-1.343 0-1.855l7.476-7.326c.517-.512 1.356-.512 1.873 0l7.476 7.327c.516.513.516 1.342 0 1.854z"></path></svg>
      </a>
    </div>

    <script type="text/javascript">
  // global vars
  var g_base_url = 'habrahabr.ru';
  var g_show_xpanel = false;
  var g_base_fullurl = 'https://habrahabr.ru/';
  var g_is_guest = false;

</script>
    
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.tmtm.ru/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '5']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>&lt;p&gt;&lt;img src="//stats.tmtm.ru/piwik.php?idsite=5" style="border:0;" alt="" /&gt;&lt;/p&gt;</noscript>


    <script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/app.vendors.js.Без названия"></script>
    <script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/app.main.js.Без названия"></script>
    <script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/flexibility.js.Без названия"></script>
        <script src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/piwikscrolldepth.min.js.Без названия"></script>
    <script type="text/javascript">
      gascrolldepth.init({
        percentage: true,
        PiwikGoal: true,
        PiwikGoal20: 3,
        PiwikGoal50: 15,
        PiwikGoal70: 17,
        PiwikGoal90: 19,
        PiwikGoal100: 20
      });
    </script>

      <script type="text/javascript">
        $(document).ready( function(){
          window.tmidLogin = function(){ return false; };
          if( $.cookie('tmid_no_check') == undefined ) {
            var expire = new Date();
            expire.setMinutes(expire.getMinutes() + 10 );
            $.cookie('tmid_no_check', 1, { expires: expire } );
            $.getScript("https://id.tmtm.ru/checklogin/", function(){
              if( window.tmidLogin() ) {
                var href = $('#login').attr('href')+'?checklogin=true';
                if( href !== undefined ) { window.location.href = href; }
              }
            });
          }
        });
      </script>

      <script type="text/javascript" src="./Реализация RGB-алгоритма изменения контраста изображения _ Хабрахабр_files/saved_resource"></script>

    
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            if (typeof (_yaparams) != 'undefined') {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    params:_yaparams});
            } else {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            }

        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript>&lt;div&gt;&lt;img src="//mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" /&gt;&lt;/div&gt;</noscript>
<!-- /Yandex.Metrika counter -->

    
    
  

<div id="AutocompleteContainter_44c56" style="position: absolute; z-index: 9999; top: 2px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_44c56" style="display: none; width: 300px; max-height: 400px;"></div></div></div><div id="AutocompleteContainter_9a929" style="position: absolute; z-index: 9999; top: 0px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_9a929" style="display: none; width: 300px; max-height: 400px;"></div></div></div></body></html>